[{"path":"index.html","id":"bem-vindo","chapter":"Bem vindo!","heading":"Bem vindo!","text":"\n Seja bem vindo ao site livro Visualização de Dados com o R. Aqui encontrarás o conteúdo integral livro para os primeiros três capítulos. obra completa está disponível como um ebook, impresso capa normal ou impresso capa dura. Se gostaste livro e estás utilizando-o para o seu trabalho, considere comprar obra em um dos seus formatos. papel de autor, aprecio o gesto e irei considerá-los como um fator motivante para futuras obras.\nversão online livro também está disponível para download como pdf e ebook1, com os primeiros capítulos na forma integral. soluções dos exercícios de final de capítulo estão disponíveis neste link.","code":""},{"path":"index.html","id":"licença-de-uso","chapter":"Bem vindo!","heading":"Licença de uso","text":"Este trabalho é licenciado pela Creative Commons Attribution-NonCommercial-ShareAlike 4.0 International License. O código contigo neste site, e livro como um todo, é disponibilizado pela licença MIT, portanto, sinta-se livre para utilizá-lo seu trabalho, desde de que origem código seja citada. Uma sugestão de citação é disponibilizada abaixo:Perlin, M. S. Visualização de Dados com o R – Aplicações para Finanças e Economia. Primeira Edição, Porto Alegre: Marcelo S. Perlin (publicação independente), 2022.","code":""},{"path":"index.html","id":"sobre-o-autor","chapter":"Bem vindo!","heading":"Sobre o autor","text":"Sou professor associado ao programa de pós-graduação na escola de Administração da UFRGS (Universidade Federal Rio Grande Sul). Ao longo dos mais de 12 anos de minha carreira como acadêmico, análise de dados sempre foi uma constante, tendo como saída diversas publicações científicas nacionais e internacionais nos tópicos de econometria financeira, mercado de capitais, finanças corporativas e cientometria. Além disso, sou autor e mantenedor de 11 pacotes de R distribuídos CRAN e Github. Maiores informações sobre o meu trabalho acadêmico, códigos de programação e formas de contato podem ser encontrados em minha página pessoal.","code":""},{"path":"index.html","id":"livros-do-autor","chapter":"Bem vindo!","heading":"Livros do Autor","text":"Poupando e Investindo em Renda Fixa: Este livro apresenta uma forma de investir com foco longo prazo, resiliência e na qualidade de vida investidor. Contrário crença popular, investir para o longo prazo é fácil e pode ser feito por qualquer pessoa com vontade de aprender. O grande diferencial da obra é o uso frequente de dados financeiros reais para entender melhor como o mercado de renda fixa funciona, os efeitos dos tributos e custos operacionais, e quais são melhores opções para o investidor pessoa física. Cada capítulo livro apresenta e analisa os principais produtos disponíveis na renda fixa: produtos bancários (CDBs, LCA, entre outros), Tesouro Direto (Prefixado, IPCA+, SELIC), fundos de renda fixa e debêntures.Poupando e Investindo em Renda Fixa: Este livro apresenta uma forma de investir com foco longo prazo, resiliência e na qualidade de vida investidor. Contrário crença popular, investir para o longo prazo é fácil e pode ser feito por qualquer pessoa com vontade de aprender. O grande diferencial da obra é o uso frequente de dados financeiros reais para entender melhor como o mercado de renda fixa funciona, os efeitos dos tributos e custos operacionais, e quais são melhores opções para o investidor pessoa física. Cada capítulo livro apresenta e analisa os principais produtos disponíveis na renda fixa: produtos bancários (CDBs, LCA, entre outros), Tesouro Direto (Prefixado, IPCA+, SELIC), fundos de renda fixa e debêntures.Análise de Dados Financeiros e Econômicos com o R: Uma introdução ao uso R e RStudio para área específica de finanças. O livro texto contém 13 capítulos que explicam todo o processo de pesquisa com o R, desde aquisição dos dados até o reporte de resultados em planilhas e figuras. Versão online disponível em https://www.msperlin.com/adfeR/.Análise de Dados Financeiros e Econômicos com o R: Uma introdução ao uso R e RStudio para área específica de finanças. O livro texto contém 13 capítulos que explicam todo o processo de pesquisa com o R, desde aquisição dos dados até o reporte de resultados em planilhas e figuras. Versão online disponível em https://www.msperlin.com/adfeR/.Analyzing Financial Economic Data R: Versão internacional livro “Análise de Dados Financeiros com o R”. Versão web disponível em https://www.msperlin.com/afedR/.Analyzing Financial Economic Data R: Versão internacional livro “Análise de Dados Financeiros com o R”. Versão web disponível em https://www.msperlin.com/afedR/.","code":""},{"path":"prefácio.html","id":"prefácio","chapter":"Prefácio","heading":"Prefácio","text":"Quem trabalha com análise de dados sabe importância e o potencial de comunicação que um gráfico possui. Figuras e ilustrações facilitam transmissão de uma mensagem e o convencimento de um público. Em um mundo cada vez mais digitalizado e visual, o resultado de uma análise pode ser compartilhado com o mundo inteiro em questões de segundos, ao clique de um botão.Em contraste, raros são os cursos de universidades e instituições de pesquisa que oferecem algum tipo de treinamento formal na construção de gráficos baseados em dados. Por tentativa e erro, professores e alunos aprendem “na marra”, sem uma clara noção de estrutura, qualidade e aplicabilidade. Curiosamente, discussões sobre uso de software de análise de dados se assemelham discussões sobre futebol em uma mesa de bar: muita paixão e pouca razão. Em uma triste inércia, grupos de pesquisa se utilizem de softwares defasados, implicando proliferação de práticas de pesquisa individualizadas e pouco eficientes.versão inicial deste livro surgiu como uma extensão capítulo 10 da minha outra obra, Análise de Dados Financeiros e Econômicos com o R (M. S. Perlin 2021). Em uma leitura pós-publicação, meu sentimento foi que, enquanto o material anterior se justificava sentido de mostrar mecânica de criação de figuras específicas da área de finanças e economia, faltava um conteúdo mais abrangente e completo sobre o tópico.Neste livro, Visualização de Dados com o R, escrevo sobre tudo aquilo que aprendi em mais de doze anos de carreira como professor, cientista de dados e consultor de empresas. Primeiro, iremos estudar os fundamentos e princípios serem seguidos na criação de figuras baseadas em dados. Em seguida estudaremos forma de trabalho com o R. Ao longo caminho, teremos diversos exemplos de visualização de dados reais.","code":""},{"path":"prefácio.html","id":"como-ler-o-livro","chapter":"Prefácio","heading":"Como ler o livro","text":"O livro foca na didática e foi escrito para o público em geral. O formato foi escolhido para que o leitor consiga aplicar técnicas seu dia dia. Todos os exemplos de código são reproduzíveis em seu próprio computador. O material, porém, exige algum conhecimento sobre programação com o R. Sempre que possível, tentei simplificar e destilar o funcionamento código texto.melhor maneira de utilizar o material livro é replicando os exemplos apresentados em cada capítulo. Como falei antes, cada pedaço de código é auto-suficiente e foi criado para que rodes seu próprio computador.Como sugestão, uma maneira didática de aprender técnicas livro é:Procure primeiro entender o que o código está fazendo antes de utilizá-lo. Esse é o passo mais importante pois é assim que se aprende programação, construindo conexões entre o gráfico na sua cabeça, e aquele produzido pelo código computador.Procure primeiro entender o que o código está fazendo antes de utilizá-lo. Esse é o passo mais importante pois é assim que se aprende programação, construindo conexões entre o gráfico na sua cabeça, e aquele produzido pelo código computador.Replique o código original exemplo seu próprio computador, de preferência escrevendo o código e não copiando e colando via Control+C. digitação vai facilitar memorização de comandos e estruturas de procedimentos. Quando se sentir confortável em digitar os mesmos comandos, podes atalhar o processo via cópia código e colagem. Após execução, confira se figura obtida seu próprio computador está idêntica aquela apresentada livro.Replique o código original exemplo seu próprio computador, de preferência escrevendo o código e não copiando e colando via Control+C. digitação vai facilitar memorização de comandos e estruturas de procedimentos. Quando se sentir confortável em digitar os mesmos comandos, podes atalhar o processo via cópia código e colagem. Após execução, confira se figura obtida seu próprio computador está idêntica aquela apresentada livro.Modifique o código para que figura tenha algo diferente (título, nome dos eixos, fontes e cores, ..). Assim memorizará onde cada elemento gráfico e textual pode ser modificado. Em outras palavras, modificação de código já existente facilitará criação de conexões entre o código e o gráfico de saída.Modifique o código para que figura tenha algo diferente (título, nome dos eixos, fontes e cores, ..). Assim memorizará onde cada elemento gráfico e textual pode ser modificado. Em outras palavras, modificação de código já existente facilitará criação de conexões entre o código e o gráfico de saída.Utilize outras fontes de dados com o mesmo código.Utilize outras fontes de dados com o mesmo código.replicação de código vai ajudar memorização da sintaxe R e ggplot2 (Wickham, Chang, et al. 2022). começo certamente será difícil, mas não se desmotive. Tudo que vale pena é difícil. Com o tempo, irás pegar o jeito e absorver necessária fluência para produzir figuras de forma autônoma.","code":""},{"path":"prefácio.html","id":"instalação-do-r-e-rstudio","chapter":"Prefácio","heading":"Instalação do R e RStudio","text":"O primeiro passo para aproveitar o material é instalar e configurar sua máquina para reproduzir os códigos livro. Abaixo destaco os programas necessários, ordem de instalação, e links para download de arquivos de instalação:R: motor de programação, cuja instalação já inclui módulos básicos. Disponível gratuitamente em https://www.r-project.org/.R: motor de programação, cuja instalação já inclui módulos básicos. Disponível gratuitamente em https://www.r-project.org/.R-Tools (apenas usuários Windows): ferramentas para compilação de pacotes R. Disponível em https://cran.r-project.org/bin/windows/Rtools/.R-Tools (apenas usuários Windows): ferramentas para compilação de pacotes R. Disponível em https://cran.r-project.org/bin/windows/Rtools/.RStudio (opcional): Interface de programação voltada ao R. Apesar de não ser estritamente necessário, o RStudio facilita muito o trabalho, e recomendo todos instalação e o uso programa. Disponível em https://www.rstudio.com/products/rstudio/.RStudio (opcional): Interface de programação voltada ao R. Apesar de não ser estritamente necessário, o RStudio facilita muito o trabalho, e recomendo todos instalação e o uso programa. Disponível em https://www.rstudio.com/products/rstudio/.Caso tiver algum problema na instalação, podes encontrar um tutorial completo Capítulo 12 de (M. S. Perlin 2021).","code":""},{"path":"prefácio.html","id":"pacote-vdr","chapter":"Prefácio","heading":"Pacote vdr","text":"Todo o material construído neste livro é aberto ao público e reproduzível. Para facilitar importação dos dados, construí um módulo R chamado vdr (Marcelo S. Perlin 2022), o qual pode ser instalado de forma prática e fácil. Com ele será possível importar dados para sua sessão R e rodar todos os exemplos seu próprio computador.Assumindo que já tens o R e RStudio instalados, vamos prosseguir com instalação pacote. Para isto, inicie o RStudio e execute seguintes linhas de comando prompt:Pronto. Após instalação, todos requisitos estarão disponíveis seu computador. Reforço que o comando anterior já instala todos os módulos necessários para reproduzir os exemplos livro.Após instalação, teste o carregamento módulo com o seguintes comando:Pronto! Se tudo der certo, verás uma mensagem anterior informando que o pacote vdr foi carregado corretamente. Caso tenha tido uma mensagem de erro, refaça etapas até que os comandos anteriores rodem sem problema.","code":"\n# package remotes is needed..\ninstall.packages('remotes')\n\n# install vdr from github\nremotes::install_github(\n    'msperlin/vdr', \n    dependencies = TRUE\n    )\nlibrary(vdr)"},{"path":"prefácio.html","id":"recursos-na-internet","chapter":"Prefácio","heading":"Recursos na Internet","text":"Na internet é possível encontrar uma variedade de conteúdo sobre visualização de dados. Esta é uma eficiente maneira de se manter atualizado nas melhores práticas e buscar inspiração para futuros trabalhos. Abaixo destaco alguns links com material de alta qualidade e que merecem sua atenção:Instagram – LatinoMetrics https://www.instagram.com/latinometrics/?hl=en – Grupo especializado em visualizações de dados da América Latina. Apresenta gráficos muito interessantes sobre o Brasil e outros países continente americano.Instagram – LatinoMetrics https://www.instagram.com/latinometrics/?hl=en – Grupo especializado em visualizações de dados da América Latina. Apresenta gráficos muito interessantes sobre o Brasil e outros países continente americano.Instagram – Statspanda – Página especializada em visualizações de dados em diferentes tópicos. O conteúdo é direto e fácil de entender.Instagram – Statspanda – Página especializada em visualizações de dados em diferentes tópicos. O conteúdo é direto e fácil de entender.Reddit – Dataisbeautiful – Fórum online Reddit, voltado agregação de conteúdo relativo visualização de dados. Aqui é possível encontrar uma variada gama de gráficos e fontes relacionados dados.Reddit – Dataisbeautiful – Fórum online Reddit, voltado agregação de conteúdo relativo visualização de dados. Aqui é possível encontrar uma variada gama de gráficos e fontes relacionados dados.","code":""},{"path":"prefácio.html","id":"exercícios","chapter":"Prefácio","heading":"Exercícios","text":"O final de cada capítulo apresenta exercícios serem resolvidos pelo leitor. O gabarito dos exercícios, incluindo saída de código, está disponível através pacote vdr e função vdr::exercises_compile_solution() :execução código anterior criará um arquivo .html na pasta “Documentos” (atalho de ~), com todas soluções dos exercícios. Para abrir o arquivo, localize o mesmo na referida pasta e clique duas vezes. Deves abrir o arquivo com seu navegador de internet de preferência, tal como o Chrome ou Firefox. Alternativamente, caso não conseguir compilar o arquivo de soluções localmente, podes baixá-lo diretamente meu site3.","code":"\ndir_solution <- \"~\"\nvdr::exercises_compile_solution(dir_output = dir_solution)"},{"path":"prefácio.html","id":"convenções","chapter":"Prefácio","heading":"Convenções","text":"decorrer livro usarei código ao longo texto, como o apresentado seguir:O código anterior está mostrando na tela o conteúdo objeto my_object, o qual contém uma sequência entre 1 e 10. saída código é registrada texto com o símbolo R>, como em R> [1] 1. Verás este mesmo padrão por todo o livro.Além disso, note o uso de comentários com o hashtag (#). Estes não são compilados pelo interpretador R e servem para escrever texto código. Note também que usarei língua inglesa para definir comentários e código em si. Esta decisão pode não ser muito intuitiva, porém todo código deve respeitar padrões internacionais e o uso de uma língua comum, neste caso o inglês. papel de instrutor, entendo que é importante aprender maneira correta desde o início e, por isso, minha escolha por escrever códigos em inglês. Mas, não se assuste, o vocabulário necessário é reduzido e acessível.Ao longo livro usaremos diversas funções, de diferentes módulos. Para organizar o texto e facilitar o entendimento da origem das funções, estas serão indicadas com o formato nativo R. Por exemplo, função geom_line pacote ggplot2 será representada como ggplot2::geom_line(). Isto é, o pacote de origem é indicado primeiro, seguido pelo símbolo de separação (::), seguido pelo nome da função. Para evitar repetições desnecessárias, o nome pacote aparece somente na primeira menção da função texto.Espero que goste e aproveite o conteúdo livro. Esta e demais obras são parte de um projeto pessoal na montagem de um conteúdo prático sobre o uso R e, assim, popularizar o uso da plataforma na produção de ciência. Caso tiver alguma dúvida sobre o conteúdo, sugestões ou reclamações, sinta-se convidado entrar em contato comigo pelo email marceloperlin@gmail.com.Boa leitura.Marcelo S. Perlin, 23/11/2022.","code":"\n# Code example\nmy_object <- 1:10\n\n# print object\nprint(my_object)R>  [1]  1  2  3  4  5  6  7  8  9 10"},{"path":"agradecimentos.html","id":"agradecimentos","chapter":"Agradecimentos","heading":"Agradecimentos","text":"Visualização de dados sempre foi uma das minhas paixões em pesquisa científica. Registro aqui minha satisfação pessoal em poder entregar esse projeto para um público maior. Escrever um livro técnico exige uma grande dedicação e esforço individual autor.Este livro não seria possível sem devida autonomia meu cargo de professor. Assim, deixo aqui o meu agradecimento UFRGS (Universidade Federal Rio Grande Sul), por possibilitar e incentivar este empreendimento mercado literário. Agradeço também todos os meu colegas professores, os quais sempre incentivaram escrever livros.Adicionalmente, não posso também deixar de agradecer toda comunidade R. Em especial, agradeço os autores dos pacotes bookdown (Xie 2022a) e ggplot2 (Wickham, Chang, et al. 2022), sem os quais não seria possível compilar este livro. Adicionalmente, abaixo destaco os respectivos pacotes disponíveis CRAN utilizados e suas devidas referências. lista foi gerada automaticamente e está em ordem alfabética.artyfarty (Smeets 2022), base (R Core Team 2022), bbplot (Stylianou et al. 2022), bookdown (Xie 2022a), colorblindr (McWhite Wilke 2022), colorspace (Ihaka et al. 2022), conflicted (Wickham 2021), corrplot (Wei Simko 2021), cowplot (Claus O. Wilke 2020), DiagrammeR (Iannone 2022), dplyr (Wickham, François, et al. 2022), dviz.supp (Claus O. Wilke 2022a), forcats (Wickham 2022a), fs (Hester, Wickham, Csárdi 2021), geobr (Pereira Goncalves 2022), ggmap (Kahle, Wickham, Jackson 2022), ggplot2 (Wickham, Chang, et al. 2022), ggpubr (Kassambara 2022), ggrepel (Slowikowski 2022), ggridges (Claus O. Wilke 2022b), ggtech (Bion 2018), ggtext (Claus O. Wilke Wiernik 2022), ggthemes (Arnold 2021), gt (Iannone et al. 2022), hrbrthemes (Rudis 2020), httr (Wickham 2022b), knitr (Xie 2022b), lubridate (Spinu, Grolemund, Wickham 2022), paletteer (file. 2022), patchwork (Pedersen 2022), plotly (Sievert et al. 2022), purrr (Henry Wickham 2022), renv (Ushey 2022), rmarkdown (Allaire et al. 2022), scales (Wickham Seidel 2022), sf (Pebesma 2022), stringr (Wickham 2022c), tibble (Müller Wickham 2022), tidyr (Wickham Girlich 2022), tidyverse (Wickham 2022d), vdr (Marcelo S. Perlin 2022), yfR (M. Perlin 2022)","code":""},{"path":"introducao.html","id":"introducao","chapter":"Capítulo 1 Introdução","heading":"Capítulo 1 Introdução","text":"Visualização de dados é arte de transformar medidas em padrões visuais. O objetivo é incrivelmente simples, apresentar evidências de um evento ou causalidade mundo real. E, como qualquer arte, é fácil de descrever e difícil de executar. Na prática, construir figuras baseadas em dados exige expertise da área de conhecimento, noções de design e conhecimento das ferramentas corretas de programação. O retorno para o autor, porém, é imenso.Impressões visuais nunca foram tão importantes quanto hoje. popularidade de sites4 como Instagram, Twitter e Facebook mostram o potencial digital que uma figura pode apresentar. Assim, o seu conteúdo de visualização de dados em um relatório técnico ou trabalho acadêmico pode ser facilmente distribuído, com uma chance de viralizar e lhe promover em sua área de trabalho.Ao mesmo tempo, como uma faca de dois gumes, gráficos também podem ser utilizados para manipulação e distorção da realidade. Como um analista de dados, seu trabalho também será identificar tais casos. Ao aprender criar figuras baseadas em dados, entenderás escolhas realizadas na produção gráfico e, inevitavelmente, um possível despreparo ou malícia autor.lado mercado de trabalho, ser pessoa que saber montar gráficos é uma maneira direta e factível de se diferenciar como profissional. Muitos sabem criar um gráfico em planilhas eletrônicas, por exemplo, mas poucos conseguem ir além e apresentar ilustrações de dados que geram um real impacto ao olho, com apresentação de informações visuais que facilitam entrega de uma mensagem. especialização nesta arte, com o correto uso das ferramentas de programação, certamente lhe diferenciará.","code":""},{"path":"introducao.html","id":"o-gráfico-do-jeremy-siegel","chapter":"Capítulo 1 Introdução","heading":"1.1 O Gráfico do Jeremy Siegel","text":"Para entender o impacto de uma figura baseada em dados, vamos olhar o caso Jeremy Siegel – professor americano especializado tópico de investimentos. Em seu livro “Investindo em Ações Longo Prazo: O Guia Indispensável Investidor Mercado Financeiro” (Siegel 2015), Jeremy apresenta nas primeiras páginas uma figura que impactou o mundo dos investimentos. Veja o gráfico em questão na Figura 1.1. Tome alguns bons segundos na análise das informações disponíveis ali. De antemão, perceba que cada configuração gráfico foi uma decisão autor.\nFigure 1.1: O gráfico de Jeremy Siegel (Siegel 2015)\nAo longo livro, o autor defende e justifica o investimento financeiro em empresas como sendo o mais rentável longo prazo. principal mensagem livro, e também da figura, é superioridade de performance financeira quando uma pessoa investe em empresas mercado de ações. Em resumo, quando olhamos um investimento longíssimo prazo, mais de 10 anos, empresas oferecem o maior retorno financeiro entre alternativas.Voltando ao gráfico em si, Figura 1.1, seguintes classes de investimentos são apresentadas:Stocks (ações)\ninvestimento em empresas através das ações negociadas em bolsa. Utiliza-se índice SP500 como referência para investimentos em renda variável. Em outras palavras, o investidor que investe índice irá receber uma média de desempenho das 500 ações que o compõem. O investimento equivalente para o Brasil seria o índice Ibovespa.\nBonds (renda fixa de longo prazo)\ninvestimento em dívida governamental com prazo maior que um ano. Traduzindo para o Brasil, seria o equivalente um investimento Tesouro Direto, isto é, compra de dívida governo federal.\nBills (renda fixa de curto prazo)\ndívidas governamentais com duração menor que um ano. Aqui não temos uma tradução direta, mas pode-se entender como equivalente nossa conta poupança, um veículo para investimentos de curto prazo, com bastante liquidez.\nUS Dollar (dólares americanos)\nCompra de dólares físicos. equivalência para o Brasil seria compra de notas físicas de Reais.\nO gráfico funciona pois demostra, de forma clara, mensagem livro: investir em ações é alternativa mais lucrativa longo prazo. Já descontando inflação, alguém que tivesse investido 1 dólar índice de ações em 1802, teria observado o seu patrimônio crescer para mais de 704,997 dólares em 2004.Destrinchando construção gráfico, nota-se os seguintes pontos e decisões dos autores:Todos os diferentes investimentos – dólar, ações, dívida pública americana — começam com um dólar. Esta é uma manipulação simples de dados, com o cálculo retorno acumulado para cada investimento. escolha padroniza análise entre alternativas, e facilita interpretação. Para verificar diferença de performance entre cada possibilidade de investimento, basta observar o valor final obtido. Assim, para alguém simular um investimento inicial diferente, é suficiente multiplicar o valor final investimento pelo montante investido. Por exemplo, 100 dólares investidos em ações em 1802, se tornariam 704 milhões de dólares em 2004.Todos os diferentes investimentos – dólar, ações, dívida pública americana — começam com um dólar. Esta é uma manipulação simples de dados, com o cálculo retorno acumulado para cada investimento. escolha padroniza análise entre alternativas, e facilita interpretação. Para verificar diferença de performance entre cada possibilidade de investimento, basta observar o valor final obtido. Assim, para alguém simular um investimento inicial diferente, é suficiente multiplicar o valor final investimento pelo montante investido. Por exemplo, 100 dólares investidos em ações em 1802, se tornariam 704 milhões de dólares em 2004.O retorno acumulado investimento em ações é ressaltado gráfico, com o uso de uma linha com uma cor mais intensa. Claramente é uma estratégia visual para passar mensagem implícita da dominância de ações sobre os demais investimentos. Na primeira batida de olho gráfico, linha de ações chama atenção e já sugere o resultado da análise. Note que, se fosse o contrário, com linha de ações menos espessa que demais, mensagem não seria tão óbvia. O autor mesclou, portanto, o aspecto financeiro de investimento com um padrão gráfico que suporta o mesmo argumento: “o investimento em ações resulta em algo maior que alternativas”.O retorno acumulado investimento em ações é ressaltado gráfico, com o uso de uma linha com uma cor mais intensa. Claramente é uma estratégia visual para passar mensagem implícita da dominância de ações sobre os demais investimentos. Na primeira batida de olho gráfico, linha de ações chama atenção e já sugere o resultado da análise. Note que, se fosse o contrário, com linha de ações menos espessa que demais, mensagem não seria tão óbvia. O autor mesclou, portanto, o aspecto financeiro de investimento com um padrão gráfico que suporta o mesmo argumento: “o investimento em ações resulta em algo maior que alternativas”.escala eixo vertical é não-linear. Veja que os intervalos entre os pontos não são os mesmos. O primeiro ponto eixo é 1, depois 10, depois 100, até chegar em 1.000.000. razão é simples, quando colocado em um espaço de gráfico não-linear, os investimentos em ações se assemelham uma linha reta. Veja, porém, que linha reta é um resultado ilusório. Se escala fosse espacialmente correta, os investimentos em renda fixa e dólar não apareceriam gráfico devido ao alto valor resultado para ações. E isso distorceria análise, pois seria impossível enxergar ambas linhas mesmo espaço gráfico.escala eixo vertical é não-linear. Veja que os intervalos entre os pontos não são os mesmos. O primeiro ponto eixo é 1, depois 10, depois 100, até chegar em 1.000.000. razão é simples, quando colocado em um espaço de gráfico não-linear, os investimentos em ações se assemelham uma linha reta. Veja, porém, que linha reta é um resultado ilusório. Se escala fosse espacialmente correta, os investimentos em renda fixa e dólar não apareceriam gráfico devido ao alto valor resultado para ações. E isso distorceria análise, pois seria impossível enxergar ambas linhas mesmo espaço gráfico.O valor final investimento é apresentado como texto na direita gráfico. Isso facilita interpretação para o leitor pois não precisa olhar para o eixo da esquerda para identificar o valor final de cada alternativa.O valor final investimento é apresentado como texto na direita gráfico. Isso facilita interpretação para o leitor pois não precisa olhar para o eixo da esquerda para identificar o valor final de cada alternativa.tabela lado esquerdo superior gráfico mostra o retorno anualizado de cada investimento, isto é, o retorno equivalente em um ano que resulta desempenho observado gráfico. Em comparação, ações dominam os demais investimentos, com 6,6% de retorno real anualizado.tabela lado esquerdo superior gráfico mostra o retorno anualizado de cada investimento, isto é, o retorno equivalente em um ano que resulta desempenho observado gráfico. Em comparação, ações dominam os demais investimentos, com 6,6% de retorno real anualizado.Estes aspectos gráfico são de total responsabilidade autor. Podes ter certeza que o mesmo ponderou cada decisão de configuração gráfico até chegar estado atual. Diversas versões devem ter sido criadas, e o que funciona foi mantido, e o que não funciona foi eliminado.Para se ter uma ideia impacto deste gráfico, o nome autor é praticamente sinônimo gráfico. Ao procurar imagens relacionadas busca “Jeremy Siegel” Google Images, o resultado mostra esta mesma imagem nas mais diversas páginas da internet. Indo além, ao realizar uma busca reversa, isto é, usando própria imagem como ponto de partida da busca na internet, o Google retorna 3,720,000,000 resultados, incluindo sites de notícias, blogs, bancos e corretoras de investimentos.Resumindo, o gráfico livro Siegel tomou vida própria e pode ser considerado um dos materiais mais impactantes autor, talvez até mais que o livro em si! Não tenho dúvida que, mesmo desatualizada – o dados utilizados acabam em 2004 – imagem continuará sendo utilizada nas próximas décadas como um exemplo da mensagem livro. O grande sucesso autor foi compilar uma única figura que transmitisse, de forma simples e direta, mensagem principal de sua obra.Meu objetivo principal quando escrevi os capítulos livro Visualização de Dados com o R é mostrar como atingir o mesmo impacto dentro de sua área de trabalho. Talvez não consiga capilaridade histórica gráfico professor Siegel, mas terás conhecimento para criar visualizações de dados que impressionam e transmitem informação de forma clara. Assim, nossa primeira etapa é entender o que torna os gráficos visualmente atrativos e impactantes, o que funciona e o que não funciona, assim como ferramentas para construí-los seu próprio computador. Para começar, próximo capítulo vamos primeiro buscar entender os princípios por trás da criação de figuras.","code":""},{"path":"principios.html","id":"principios","chapter":"Capítulo 2 Princípios de Visualização de Dados","heading":"Capítulo 2 Princípios de Visualização de Dados","text":"O que torna figura de Jeremy Siegel tão impactante? Qual foi o processo de criação da figura? Neste capítulo vamos responder estas questões através da discussão de princípios e componentes visuais de um gráfico de dados. Discutiremos elementos centrais e independentes da plataforma. Ou seja, podes aplicar os mesmos princípios para gráficos produzidos em outras linguagens de programação.Este é um tema complexo e existem ótimas referências serem consultadas. Aqui focaremos na prática de criação de figuras, deixando teoria de lado. Como referência complementar, recomendo os seguintes livros:Fundamentals Data Visualization (Claus O. Wilke 2019), disponível gratuitamente em https://clauswilke.com/dataviz/.Fundamentals Data Visualization (Claus O. Wilke 2019), disponível gratuitamente em https://clauswilke.com/dataviz/.Data Visualization - practical introduction (Healy 2018), disponível gratuitamente em https://socviz.co/.Data Visualization - practical introduction (Healy 2018), disponível gratuitamente em https://socviz.co/.","code":""},{"path":"principios.html","id":"por-que-criamos-uma-figura","chapter":"Capítulo 2 Princípios de Visualização de Dados","heading":"2.1 Por que criamos uma figura?","text":"Primeiro, e mais importante, é preciso reforçar que razão principal da análise de dados é comunicação de ideias. De forma simplificada, é seu trabalho analisar informações retiradas de um banco de dados e sugerir possíveis efeitos mundo real. Um relatório técnico é nada mais que uma opinião profissional sobre determinado problema. O mesmo é verdadeiro para um trabalho acadêmico, onde se testa uma hipótese baseada nos dados, ou o estudo de uma decisão empresarial, tal como maneiras de se obter maior impacto em campanhas de marketing.Assim sendo, um sólido parecer técnico pode ter seu impacto ofuscado por uma baixa capacidade de comunicação (Schwabish 2014). O poder de um argumento é multiplicado pela sua capilaridade, facilidade com que o mesmo pode ser transmitido para o seu público. Veja que, de nada adianta realizar um excelente trabalho técnico na análise de dados, se comunicação escrita e visual não transmite mensagem desejada. De fato, um dos erros frequentes que encontro na revisão de trabalhos acadêmicos é o foco na técnica, deixando de lado venda peixe. Enquanto parte técnica e científica é certamente importante, comunicação material potencializa o impacto conteúdo para com seu público.","code":""},{"path":"principios.html","id":"transmissão-de-informação","chapter":"Capítulo 2 Princípios de Visualização de Dados","heading":"2.1.1 Transmissão de informação","text":"O primeiro princípio na criação de gráficos é que uma figura deve justificar sua existência e conversar com sua audiência. Um erro muito comum por parte de alunos é tentar criar os mais variados gráficos sem se perguntar se os mesmos adicionam informações novas na análise, ou se o público irá entendê-los. Só porque você pode fazer um gráfico, não significa que você deve mostrá-lo. O valor de um conteúdo está diretamente relacionado às novas informações que ele traz na análise, e capacidade público em entendê-las.Ao decidir sobre os elementos de um gráfico, atenha-se àqueles que ajudam transmitir sua mensagem. Não hesite em cortar material. Em um documento escrito, sempre que você encontrar uma figura que não seja sendo discutida em pelo menos dois parágrafos texto, não tenha receio em retirá-la documento. Se não consegues escrever mais que dois parágrafos sobre uma figura, provavelmente não é importante.Uma figura conversa com o seu público quando todos os elementos gráfico convergem para mensagem. Assim, utilize todas ferramentas disponíveis – cores, formas, tamanhos e transparência – para transmitir uma mensagem clara e objetiva. Na prática, sugiro seguintes ações:Use cores e formas para distinguir grupos dentro dos dados. Se um grupo é mais importante que outros, diferencie o mesmo usando uma cor ou forma específica;Use cores e formas para distinguir grupos dentro dos dados. Se um grupo é mais importante que outros, diferencie o mesmo usando uma cor ou forma específica;Use cores para transmitir sentimentos e adjetivos tais como bom/ruim, alto/baixo, lucro/prejuízo;Use cores para transmitir sentimentos e adjetivos tais como bom/ruim, alto/baixo, lucro/prejuízo;Use tamanhos, cores e transparência de linhas e formas para indicar graus de importância nos resultados. Por exemplo, se estiver comparando inflação de países diferentes em relação ao Brasil, realce o caso brasileiro gráfico com uma cor ou densidade mais forte;Use tamanhos, cores e transparência de linhas e formas para indicar graus de importância nos resultados. Por exemplo, se estiver comparando inflação de países diferentes em relação ao Brasil, realce o caso brasileiro gráfico com uma cor ou densidade mais forte;","code":""},{"path":"principios.html","id":"manipulação-da-atenção","chapter":"Capítulo 2 Princípios de Visualização de Dados","heading":"2.1.2 Manipulação da atenção","text":"Use e abuse de formas visuais de chamar atenção. Em outras palavras, facilite e direcione análise para o seu público, sempre verificando se os gráficos produzidos indicam uma mensagem clara e direta. Destaque nos gráficos o que o público deve procurar e como lê-lo. Como regra de bolso, o melhor gráfico é aquele que não precisa ser explicado.Assim, entendas o limite conhecimento e expectativas seu público. Ao comunicar uma figura, não espere que todos tenham o mesmo conhecimento técnico que você. O que é óbvio para você, que está semanas (ou anos) trabalhando mesmo problema, pode ser confuso para outros. Entenda o que seu público espera e qual motivação para ler o seu conteúdo. Por exemplo, não apresente para um grupo de executivos o mesmo material que apresenta para o seu orientador acadêmico. Cada qual possuem diferentes demandas e características, e irão avaliar o trabalho de acordo com suas expectativas. Não é incomum um gráfico ser elogiado pelo público em geral, e rechaçado pelo público técnico.forma de digestão visual de um gráfico é importante. momento em que um gráfico é analisado, os olhos leitor irão percorrer o material sistematicamente. Enquanto pessoas podem processar dados visuais de forma diferentes, sequência de avaliação tende seguir forma como lemos, de cima pra baixo. Assim, os seguintes elementos são avaliados em sequência:título;subtítulo;miolo da figura (linhas e formas), incluindo cores, formas e transparências;textos dos eixos horizontais e verticais;outros elementos gráfico.Assim, use sequência dos elementos em uma narrativa sobre mensagem. O título e subtítulo são elementos extremamente importantes pois definem primeira mensagem gráfico. Assim, use textos claros e sugestivos título e subtítulo gráfico, os quais devem indicar como analisar o miolo da figura.\nUm erro comum de professores que trabalham em consultoria é tratar o\npúblico corporativo da mesma forma que o universitário. Minha\nexperiência sugere que o público corporativo, focado em problemas\nempresariais, está mais interessado impacto real,\nisto é, como o que está sendo apresentado afetará prática da empresa,\nem linhas simples e fáceis de entender. Para este tipo de público, o\nfoco deve ser em claridade das informações e sugestão de ações reais.\nEvite, assim, justificativas técnicas e científicas que o público\nprovavelmente não entenderá e/ou necessitará de muito tempo para\nexplicar. Lembre que o público corporativo não está interessado em\nquestionar suas decisões técnicas, mas sim solucionar um\nproblema.\n","code":""},{"path":"principios.html","id":"independência-do-elemento-gráfico","chapter":"Capítulo 2 Princípios de Visualização de Dados","heading":"2.1.3 Independência do elemento gráfico","text":"Todas informações técnicas, como origem e período de dados, devem ser claramente indicadas título, subtítulo ou legenda gráfico. Se o público precisar buscar informações adicionais para entender o gráfico, então existe espaço para melhoria. É mais fácil dizer que fazer, mas tente comunicar o máximo de informações possíveis, desde que não polua o gráfico. Lembre-se de que existe um sensível equilíbrio entre uma estética elegante, e os detalhes técnicos que o seu público espera. Assim sendo, use e abuse de elementos textuais tais como títulos e subtítulos para acrescentar informações relevantes ao entendimento problema. Em resumo, busque criar gráficos que podem ser entendidos sem explicação adicional, onde os elementos textuais – títulos, subtítulos, eixos e legendas – fornecem todas informações necessárias para se entender figura.","code":""},{"path":"principios.html","id":"herança-e-reprodutibilidade","chapter":"Capítulo 2 Princípios de Visualização de Dados","heading":"2.1.4 Herança e reprodutibilidade","text":"ciência e análise de dados evoluem na forma de blocos de construção, um encima outro. Sempre verifique os gráficos produzidos em suas referências de texto. Eles guiarão sobre o que seu público espera. Da mesma forma, você pode até usar figuras de artigos anteriores para comparar seus resultados, o que é especialmente conveniente quando o mesmo conjunto de dados são usados. Por isso, sempre informe qual origem dos dados utilizados gráfico, facilitando que outra pessoa, ou até mesmo você mesmo, replique o gráfico futuro.Ao escrever um código de criação de figuras, tenha certeza de que o mesmo é facilmente reproduzível futuro. melhor versão de um código de visualização de dados é aquela que, com mínimas modificações, executa corretamente daqui cinco anos. Assim, faço minhas sugestões:Evite qualquer trabalho manual para criação de gráficos. Plataformas de programação e análise de dados, tal como o R e o Python, facilitam todo o processo;Evite qualquer trabalho manual para criação de gráficos. Plataformas de programação e análise de dados, tal como o R e o Python, facilitam todo o processo;Automatize o processo de importação e manipulação de dados para que, daqui alguns anos, possa replicar o gráfico com dados atualizados;Automatize o processo de importação e manipulação de dados para que, daqui alguns anos, possa replicar o gráfico com dados atualizados;Escreva códigos que se adaptem aos dados, e nunca o contrário. Se alguma modificação nos dados de entrada exige modificação código, então vale pena revisar o trabalho. Ao manter um código que se adapta aos dados, fica mais fácil manter reprodutibilidade da análise ao longo tempo.Escreva códigos que se adaptem aos dados, e nunca o contrário. Se alguma modificação nos dados de entrada exige modificação código, então vale pena revisar o trabalho. Ao manter um código que se adapta aos dados, fica mais fácil manter reprodutibilidade da análise ao longo tempo.\nUma maneira eficiente de transitar o mesmo material entre diferentes\npúblicos é primeiro criar uma versão básica gráfico, e depois adaptar\no conteúdo às demandas de cada público. Assim, partir mesmo modelo\nde gráfico, podes modificar os elementos facilmente em cada cenário.\nConvenientemente, o uso R e pacote ggplot2 facilita este\nprocesso pois se utiliza de um sistema de camadas, onde primeira\ncamada é versão básica e, conforme necessidade, adicionamos e\nremovemos camadas de acordo com o público.\n","code":""},{"path":"principios.html","id":"visualizando-a-inflação-para-o-brasil","chapter":"Capítulo 2 Princípios de Visualização de Dados","heading":"2.2 Visualizando a inflação para o Brasil","text":"Agora que já entendemos teoria, vamos para prática. gráfico seguir, Figura 2.1, é apresentado uma série de inflação histórica para o Brasil, retirada sistema de séries temporais Banco Central Brasil.\nFigure 2.1: Gráfico de exemplo para inflação Brasileira\n\ninflação refere-se ao aumento sistemático de preços em um país e é\ngeralmente definida como o aumento de preço em uma cesta de produtos.\nObservar e entender inflação é tarefa de todo economista: inflação\ntem efeitos negativos em toda economia, corroendo o poder de compra de\nconsumidores e desincentivando o consumo. Brasil, o índice de\ninflação mais popular é o IPCA, calculado e comunicado pelo IBGE\n(Instituto Brasileiro de Geografia e Estatística).\nO gráfico anterior mostra o IPCA (Índice de Preço ao Consumidor Amplo) mensal entre 2015 e 2022. olho nu, ler este gráfico e retirar alguma conclusão é tarefa quase impossível:Qual o objetivo gráfico? Por que o mesmo está sendo mostrado?O que os valores eixo vertical representam exatamente?De onde os dados saíram e como o gráfico pode ser replicado?Mais importante, qual mensagem transmitida?Entender o gráfico anterior requere tempo e esforço cerebral. Como regra, toda vez que um gráfico forçar audiência pensar demais, existe um alto risco material ser irrelevante para o mundo real. Na dificuldade entendimento da figura em menos de cinco segundos, provavelmente o leitor irá ignorar imagem e prosseguir para o próximo elemento texto. Aposto que você, ao observar o gráfico, fez mesma coisa. Ou seja, o gráfico rompe dois princípios básicos de visualização de dados, justificativa de existência e manipulação da atenção. Uma versão melhorada é apresentada seguir, Figura 2.2.\nUm erro muito comum de iniciantes é utilizar o template\noriginal gráfico, isto é, exportar o primeiro gráfico criado, sem\nmuito esforço na construção de algo atrativo. Saiba que um olho treinado\ne experiente conhece muito bem o template básico e isso vai\npesar em qualquer avaliação. Além de mostrar certa preguiça por parte \ncriador, o qual simplesmente aceitou primeira versão gráfico,\ntambém reforça falta de capacidade na utilização das ferramentas de\nprogramação.\n\nFigure 2.2: Gráfico melhorado para inflação Brasileira\nComparando primeira com segunda versão, vemos seguintes diferenças:Elementos textuais – o título e o subtítulo em 2.2 já indicam o que estamos analisando gráfico e qual mensagem, neste caso variabilidade da inflação mensal. Em outras palavras, estamos analisando como inflação varia ao longo tempo, com seus altos e baixos. Note também variação tom da letra título com o uso negrito e tamanho da fonte para reforçar o objetivo gráfico. Abaixo, na direita, vemos origem e identificação dos dados, neste caso o sistema de séries temporais Banco Central Brasil (BCB-SGS), série de número 433. Dado que origem dos dados é pública, qualquer pessoa pode acessar e reproduzir o mesmo gráfico.Elementos textuais – o título e o subtítulo em 2.2 já indicam o que estamos analisando gráfico e qual mensagem, neste caso variabilidade da inflação mensal. Em outras palavras, estamos analisando como inflação varia ao longo tempo, com seus altos e baixos. Note também variação tom da letra título com o uso negrito e tamanho da fonte para reforçar o objetivo gráfico. Abaixo, na direita, vemos origem e identificação dos dados, neste caso o sistema de séries temporais Banco Central Brasil (BCB-SGS), série de número 433. Dado que origem dos dados é pública, qualquer pessoa pode acessar e reproduzir o mesmo gráfico.Elementos gráficos – Uso de cores para distinguir os períodos de alta inflação dos períodos de baixa, reforçando e salientando variação da inflação entre os meses. Círculo azuis e vermelhos mostram os pontos máximos e mínimos da inflação mensal período analisado.Elementos gráficos – Uso de cores para distinguir os períodos de alta inflação dos períodos de baixa, reforçando e salientando variação da inflação entre os meses. Círculo azuis e vermelhos mostram os pontos máximos e mínimos da inflação mensal período analisado.reprodutibilidade – Uma mudança nos dados não exige mudança código pois todos os elementos são baseados nos dados de entrada. Para demonstrar reprodutibilidade gráfico, seguir, Figura 2.3, apresentamos o mesmo gráfico para três períodos diferentes.reprodutibilidade – Uma mudança nos dados não exige mudança código pois todos os elementos são baseados nos dados de entrada. Para demonstrar reprodutibilidade gráfico, seguir, Figura 2.3, apresentamos o mesmo gráfico para três períodos diferentes.\nFigure 2.3: Gráfico da inflação Brasileira para diferentes períodos\nNote semelhanças e diferenças entre os painéis de 2.3. Além dos elementos de barra e cores, todas datas e os valores texto são calculados partir dos dados. Mais importante, depois de montado o código, criação dos três gráficos é muito fácil. Reforçando, o esforço para construir um gráfico com reprodutibilidade se concentra na concepção inicial. Depois código pronto, reutilização é eficiente e instantânea.","code":""},{"path":"principios.html","id":"exercícios-1","chapter":"Capítulo 2 Princípios de Visualização de Dados","heading":"2.3 Exercícios","text":"solução dos exercícios de final de capítulo pode ser compilada localmente com o comando vdr::exercises_compile_solution(). Alternativamente, podes baixar uma versão arquivo compilado site livro5.","code":""},{"path":"principios.html","id":"q.1","chapter":"Capítulo 2 Princípios de Visualização de Dados","heading":"Q.1","text":"O grupo LatinoMetrics produz e distribui um conteúdo muito interessante de visualização de dados econômicos para América Latina. Observando o material Instagram, visualize seis últimas imagens disponibilizadas na página principal. Observando figuras como um todo, destaque os elementos comuns na criação das imagens. Isto, é, destaque os elementos visuais que foram repetidos entre uma figura e outra.","code":""},{"path":"principios.html","id":"q.2","chapter":"Capítulo 2 Princípios de Visualização de Dados","heading":"Q.2","text":"Reddit é possível encontrar o grupo r/dataisugly, o qual contém inúmeros posts sobre visualizações de dados realizadas da forma errada. Na data de 27/09/2022 foi publicado seguinte mensagem fórum:Publicação reddit/dataisuglu em 27/09/2022Analise o gráfico e, sem buscar resposta fórum, indique qual o problema com o gráfico.","code":""},{"path":"componentes-de-gráficos.html","id":"componentes-de-gráficos","chapter":"Capítulo 3 Componentes de Gráficos","heading":"Capítulo 3 Componentes de Gráficos","text":"Os componentes de uma figura baseada em dados separam-se entre textuais e gráficos. Os elementos textuais referem-se textos explícitos que auxiliam o entendimento da mensagem. Pense neles como o esqueleto gráfico, suportando toda estrutura visual controlada pelos dados, tal como pontos e linhas. Isto inclui textos dos eixos, legendas, títulos e subtítulos.Os elementos gráficos são aqueles que representam formas geométricas relacionadas com os dados em si. Isto é, quando novos dados são inseridos, os elementos gráficos mudam. Estes são canais de visualização, os quais traduzem medidas numéricas ou categóricas em elementos gráficos na forma de linhas, pontos, formas e cores.Com esta separação entre elementos textuais e gráficos, vamos montar uma figura sequencialmente, etapa por etapa, explicando cada elemento processo.","code":""},{"path":"componentes-de-gráficos.html","id":"elementos-textuais","chapter":"Capítulo 3 Componentes de Gráficos","heading":"3.1 Elementos textuais","text":"Figura 3.1 apresenta os componentes textuais de um gráfico, incluindo títulos, subtítulos e texto eixo horizontal e vertical. Este é um típico exemplo de gráfico de dispersão, o qual mostra relação entre duas variáveis, x (coordenada horizontal) e y (coordenada vertical).\nFigure 3.1: Esqueleto de um gráfico com elementos textuais\nOs componentes da Figura 3.1 são:Título\nTexto que inicia o gráfico e provavelmente será o primeiro elemento ser lido pelo leitor. Busque usar poucas e informativas palavras, sem detalhes técnicos e focando em um público ingênuo. Ao mesmo tempo, use o título para introduzir o tema e mensagem gráfico. Por exemplo, o título “Performance Financeira das Ações da Petrobrás” é melhor e mais fácil de entender que “Preços ajustados dividendos e outros eventos corporativos, entre 2010 e 2020”. Todo conteúdo técnico e específico sobre os dados utilizados deve ser colocado subtítulo ou texto inferior (caption).\nSubtítulo da Figura\nO subtítulo é um dos pontos mais importantes sobre um gráfico, e onde um olhar técnico irá focar. O subtítulo pode, por exemplo, oferecer descrições tamanho e forma de coleta da amostra de dados. Saiba que o subtítulo é um ponto muito indicativo da capacidade técnica autor. Por exemplo, informação de como os dados foram calculados, tal como “Dados ajustados dividendos e outros eventos corporativos”, pode ser colocada subtítulo. Como sugestão, procure não repetir informações já disponíveis em outros locais e busque sempre oferecer o máximo de informações para entender o gráfico.\nTexto eixo vertical (y)\nTexto explicativo eixo vertical, definindo principal variável de interesse. Relembre que, em um gráfico de dispersão, lê-se como “variável y é afetada por variável x”. Portanto, y é variável que merece maior atenção nos componentes textuais, tal como título e subtítulo.\nTexto eixo horizontal (x)\nTexto correspondente ao eixo horizontal. Geralmente utiliza-se algo como tempo ou outra variável de interesse. Em um gráfico de barras, por exemplo, o eixo x pode ser algum tipo de grupo existente nos dados (exemplo: masculino/feminino). Reforço que variável eixo horizontal é secundária em relação variável eixo vertical.\nTexto inferior (caption)\nÉ o texto de menor fonte, geralmente indicado lado direito e abaixo gráfico, com informações secundárias sobre origem dos dados brutos ou sobre o autor, incluindo link para verificação. Por exemplo, “Dados obtidos em https://www.transparencia.rs.gov.br/”.\n\nQuando formatando os elementos textuais de um gráfico, um exercício\nque costumo fazer é tentar prever quais questões sobre o gráfico serão\nperguntadas pelo público técnico. Se alguma informação não está clara e\nfácil de inserir, não hesite em fazê-lo. Da mesma forma, antes de\npublicar um gráfico, apresente o mesmo para diferentes pessoas e preste\natenção nas respostas, posteriormente ajustando o código onde\nnecessário.\nUm exemplo trabalhado de elementos textuais de um gráfico, porém ainda sem incluir elementos dinâmicos tal como pontos ou linhas, é apresentado seguir, Figura 3.2.\nFigure 3.2: Esqueleto melhorado de um gráfico com elementos textuais\nNote que, mesmo sem adicionar os dados em si, o esqueleto já diz quais informações podemos esperar gráfico: performance da ação da Petrobrás ao longo tempo, obtidos Yahoo Finance. Os elementos textuais são formatados de acordo com os dados de entrada. Saiba que os anos título – 2015 2022 – são obtidos diretamente dos dados. O efeito que procuramos é que, cada nova entrada de dados, os elementos textuais mudem automaticamente.\nações de uma empresa, tal qual Petrobrás, são contratos\nfinanceiros que permitem participação controle e resultado (lucro)\nde uma empresa. Em resumo, ao comprar uma ação, passas ser um dos\ndonos da empresa, com direito recebimento de participação proporcional\nao lucro da mesma. Estes contratos são negociados diariamente mercado\nfinanceiro, com forte variação de preços. Todas ações são identificadas\npor um símbolo chamado ticker, composto por quatro letras e\nnúmeros. ações tipo ordinária da Petrobrás, por exemplo, são\nidentificadas por PETR3, enquanto ações tipo preferencial são\nrepresentadas pelo ticker PETR4.\n","code":""},{"path":"componentes-de-gráficos.html","id":"elementos-gráficos","chapter":"Capítulo 3 Componentes de Gráficos","heading":"3.2 Elementos gráficos","text":"Os componentes gráficos – miolo da figura – são os canais visuais vinculadas ao dados, incluindo:Linhas (sólida, tracejada, ..);Formas (círculos, triângulos, quadrados, ..);Cores (azul, vermelho, verde, ..);Tamanhos (1mm, 5mm, ..).Os mais comuns, e fáceis de lidar, são os gráficos com linhas e formas, tal como um círculo ou quadrado. Ao adicionarmos mais camadas ao gráfico, mais complexo ele fica. Na prática, usamos interação entre os canais para reforçar uma mensagem. Por exemplo, se temos grupos dentro dos dados, podemos usar linhas diferentes (tracejada, sólida, etc) para separar cada grupo. Os gráficos mais impactantes são aqueles em que usamos o conhecimento da área para construir interação dos canais visuais.\nFigure 3.3: Os canais de visualização mais utilizados: posição, formato, tamanho, cores (Claus O. Wilke 2019)\nFigura 3.3 mostra os principais canais de visualização de dados. primeira, posição, usa o próprio espaço para indicar relações entre duas variáveis, x e y, e é tipicamente utilizada em gráficos de dispersão. segunda, formato, representa forma geométrica ser inserida nas coordenadas, seja um círculo, quadrado ou outra. Podemos também usar o canal tamanho, o qual controla escala espacial da forma geométrica utilizada.Na criação de figuras, raramente utilizaremos apenas um canal de visualização. O mais comum é mesclarmos o uso de posição, formato e cores para salientar um resultado. Assim, usamos diferentes canais para representar diferentes dimensões dos dados analisados.Como um primeiro exemplo, vamos reconstruir o gráfico anterior, Figura 3.2, adicionando uma camada gráfica com linhas e pontos gráfico:\nFigure 3.4: Gráfico de linhas e pontos para os preços da PETR3\nO gráfico em 3.4 se utiliza dos canais visuais posição, linhas e pontos para construir figura. Os pontos são dados pelas coordenadas x e y, enquanto linhas conectam os pontos.Agora, com adição de um objetivo de comunicação ou mensagem gráfico, podemos usar outros elementos visuais para salientar informações respeito dos dados. Vamos assumir que o objetivo gráfico é analisar rentabilidade das ações da Petrobrás (PETR3) período. Para isso, é intuitivo e tecnicamente correto comparar o retorno acumulado da ação contra o índice Ibovespa, um benchmark para investimentos em empresas. O que procuramos entender é se ações da Petrobrás tivem performance superior uma média mercado como um todo.\nFigure 3.5: Gráfico melhorado de linhas e pontos para os preços da PETR3\nNote que, apesar de serem exatamente os mesmos dados, escolhas dos canais impactam diretamente o gráfico e percepção leitor. Observo os seguintes pontos adicionais:Ao contrário de se utilizar valores nominais de preço da Petrobrás e valores índice Ibovespa, calculou-se o retorno acumulado partindo de 100% (linha cinza horizontal). Isso permite comparação visual entre o comportamento de ambos investimentos.Ao contrário de se utilizar valores nominais de preço da Petrobrás e valores índice Ibovespa, calculou-se o retorno acumulado partindo de 100% (linha cinza horizontal). Isso permite comparação visual entre o comportamento de ambos investimentos.linha escura e densa dos preços da ação PETR3 se destaca em relação linha tracejada e menos densa Ibovespa. Esta escolha é para atrair atenção leitor e, implicitamente, mandar mensagem de que “Petrobrás é maior e mais forte que o índice Ibovespa”.linha escura e densa dos preços da ação PETR3 se destaca em relação linha tracejada e menos densa Ibovespa. Esta escolha é para atrair atenção leitor e, implicitamente, mandar mensagem de que “Petrobrás é maior e mais forte que o índice Ibovespa”.O texto com o retorno acumulado total e o equivalente anual foi adicionado ao gráfico. cor azul para PETR3 destaca melhor performance das ações da Petrobrás. escolha das cores reflete princípios de contabilidade onde, cor azul é relacionada com lucro, enquanto vermelha é prejuízo. Ou seja, azul indica algo financeiramente positivo, e vermelho algo negativo.O texto com o retorno acumulado total e o equivalente anual foi adicionado ao gráfico. cor azul para PETR3 destaca melhor performance das ações da Petrobrás. escolha das cores reflete princípios de contabilidade onde, cor azul é relacionada com lucro, enquanto vermelha é prejuízo. Ou seja, azul indica algo financeiramente positivo, e vermelho algo negativo.Em resumo, os elementos em 3.5 foram escolhidos para reforçar mensagem gráfico: ações da Petrobrás tiveram, período analisado, melhor performance financeira que o índice Ibovespa. Enquanto ações da Petrobrás retornaram 775,93% de lucro para o investidor, o índice retornou apenas 138,92%. Este é um exemplo simples e direto de como podemos melhorar uma visualização de dados ao adicionar informações precisas e claras para o leitor com seleção de tamanho, tipo de linha, cores, transparência e adição de textos.","code":""},{"path":"componentes-de-gráficos.html","id":"a-escolha-dos-canais","chapter":"Capítulo 3 Componentes de Gráficos","heading":"3.3 A escolha dos canais","text":"Partindo caso mais simples, primeira decisão na construção de um gráfico baseado em dados é qual forma de traduzir números em imagens. Podemos usar linhas, pontos ou barras. Apesar de existirem regras gerais, alguns gráficos fazem mais sentido com linhas, enquanto outros com pontos ou colunas. O uso de cores gráfico também é discutível: enquanto um pouco de cor pode ajudar o leitor, o uso de muitas cores pode atrapalhar.","code":""},{"path":"componentes-de-gráficos.html","id":"uso-de-linhas","chapter":"Capítulo 3 Componentes de Gráficos","heading":"3.3.1 Uso de linhas","text":"O uso de linhas faz sentido quando os dados adjacentes tem conexão entre si, tal como o próprio tempo. Por exemplo, caso anterior, visualizamos os preços da ação da Petrobrás com linhas. Faz sentido conectar os pontos dos preços das ações pois o resultado final representa o caminho preços ao longo dos dias, onde pontos adjacentes são conectados pelo tempo.Veja o exemplo na Figura 3.6, onde apresentamos o gráfico de preços da EGIE3 – empresa setor elétrico – em três formatos diferentes. O primeiro gráfico, usando pontos, é razoável. O segundo é somente estranho e mais parece um código de barras, sem muita relação com o problema em si. Como regra, o uso de barras sempre força o eixo vertical partir valor zero, o que pode resultar em gráficos pouco atrativos. Como esperado, o terceiro gráfico, painel C, é o que tem forma mais intuitiva: linhas para preços de ações, representando dependência temporal entre um preço e outro.\nFigure 3.6: Exemplo de gráfico de linhas\n","code":""},{"path":"componentes-de-gráficos.html","id":"uso-de-formas","chapter":"Capítulo 3 Componentes de Gráficos","heading":"3.3.2 Uso de formas","text":"O uso de pontos e formas fazem mais sentido em gráficos onde cada ponto pode ser entendido como independente dos demais. Este é o caso clássico de gráficos de dispersão, onde buscamos explicar uma variável numérica com base em outra. Por exemplo, considere analisar relação entre sobra de salário (disposable income) e poupança (savings ratio) para diferentes países, Figura 3.7. Cada ponto gráfico é um país diferente. Aqui, os dados Brasil, por exemplo, não tem relação direta com os dados da Espanha. Assim, não faz sentido ligar os dados com linhas, mas sim usar pontos independentes.\nOs dados de razão de poupança (savings ratio) referem-se \ndivisão valor poupado e o salário. O mesmo é calculado por país,\ntirando uma média regional de salário e poupança em determinado período.\nEm geral, quanto maior razão de poupança para determinado país,\nmelhor. Isso indica uma superior capacidade da população em poupar os\nseus rendimentos para o consumo futuro, aumentando estabilidade\nfinanceira da região.\n\nFigure 3.7: Exemplo de gráfico de formas\nComparando imagens da Figura 3.7, note que o gráfico de barras (painel B) e linhas (painel C) resultam em figuras sem muita intuição e são difíceis de entender. Isso ocorre por que os canais de visualização com barras e linhas não funcionam para o problema. O uso de linhas, por exemplo, reforça uma dependência inexistente entre os pontos adjacentes e confunde análise. Todavia, painel – uso de pontos – deixa claro na visualização de que pessoas com renda maior tem uma proporção de poupança menor que pessoas com renda menor.","code":""},{"path":"componentes-de-gráficos.html","id":"uso-de-barras","chapter":"Capítulo 3 Componentes de Gráficos","heading":"3.3.3 Uso de barras","text":"Os gráficos de barras funcionam muito bem quando variável explicativa é uma categoria. Por exemplo, utilizando os mesmos dados anteriores, considere comparar capacidade de poupança dos cinco países com maior valor, Figura 3.8.\nFigure 3.8: Exemplo de gráfico de barras\nPainéis e B apresentam resultados razoáveis e intuitivos. Particularmente, o ordenamento dos dados faz com o que painel B tenha o formato de uma escada (ou pódio de premiação), o que facilita mensagem gráfico de que país com identificador 1 tem maior poder de poupança. Note também que o uso de barras (painel B) força o eixo y iniciar em zero. Painel C é difícil de entender pois transmite mensagem de interligação entre os países (eixo x), o que, dada natureza dos dados, não é visualmente intuitivo.","code":""},{"path":"componentes-de-gráficos.html","id":"intro-cores","chapter":"Capítulo 3 Componentes de Gráficos","heading":"3.4 Cores","text":"Muito utilizado pela indústria de marketing, cores direcionam atenção e incitam algum tipo de sentimento pelo leitor. Na construção de figuras baseadas em dados, o uso de cores serve para distinguir grupos ou intensidades. Quando usado com parcimônia, cores funcionam muito bem e facilitam o entendimento da mensagem gráfico. Cuidado, porém, com excessos.É indiscutível que o uso de cores funciona. Um exemplo clássico sobre o efeito uso de cores em finanças é o artigo red: effects color investment behavior (Bazley, Cronqvist, Mormann 2017). Os autores conduziram experimentos para verificar se o uso da cor vermelha em relatórios de investimentos mudaria o comportamento futuro dos investidores. Os resultados mostraram que, quando cor vermelha é utilizada para destacar prejuízos, os investidores se tornam mais avessos ao risco e diminuem suas expectativas de retorno futuro. Perceba como uma pequena decisão nas cores pode causar um grande impacto na audiência.dia dia, melhor forma de trabalhar com cores R é se utilizar de paletas – conjunto de cores pré-estabelecidas – e deixar que o próprio software escolha cores específicas gráfico. O uso de paletas automatiza o processo de construção de um gráfico pois cores são predeterminadas em uma fila e selecionadas medida que são necessárias. Adicionalmente, cada paleta de cores possui um tema, tal como quente/frio, claro/escuro, facilitando escolha de acordo com o objetivo da mensagem. Para melhor entender o uso de paletas, vamos explorar os três tipos de paletas de cores: sequenciais, divergentes e qualitativas.","code":""},{"path":"componentes-de-gráficos.html","id":"paletas-sequenciais","chapter":"Capítulo 3 Componentes de Gráficos","heading":"3.4.1 Paletas sequenciais","text":"paletas de cores sequenciais servem para indicar diferentes intensidades para um mesmo efeito. Pode-se usar apenas um tom ou múltiplos para criar paleta sequencial. Por exemplo, podemos usar vermelho escuro para representar dados em uma extremidade da distribuição, e vermelho claro para outra. Como regra, cores desse tipo de paleta tem o mesmo tom, com luminosidade decrescente ao longo das cores.","code":""},{"path":"componentes-de-gráficos.html","id":"paletas-sequenciais-de-tom-único","chapter":"Capítulo 3 Componentes de Gráficos","heading":"3.4.1.1 Paletas sequenciais de tom único","text":"seguir, Figura 3.9, apresenta-se cinco paletas sequenciais de tom único, proveniente pacote colorspace .\nFigure 3.9: Exemplo de cinco paletas de cores sequenciais em tom único pacote colorspace .\n\nEntender acessibilidade e mídia é importante! Muito cuidado com \nescolha das cores para uma audiência maior. Pessoas com incapacidade de\ndiferenciar cores podem ter problema em analisar os seus gráficos. Se\npossível, tenha em mente uma maneira alternativa – usando formas de\npontos, por exemplo – para formatar sua figura. Adicionalmente, busque\nsaber como o material será consumido pelo público. Por exemplo, livros\nsão geralmente impressos em preto e branco e, portanto, qualquer uso de\ncores sequer será notado.\nTodas paletas em 3.9 se utilizam mesmo tom (single hue), diminuindo intensidade sequencialmente, da esquerda para direita. Os nomes (“Grays”, “Blues 2”, ..) são pré-definidos pelo módulo de paletas. Futuramente, seção 4.8 livro, iremos mais fundo uso de paletas pacote colorspace .Na Figura 3.10 apresenta-se um exemplo de aplicação de paleta sequencial com tom único para um gráfico de barras. Note como os países com maiores razões de poupança são salientados pela maior intensidade das cores.\nFigure 3.10: Exemplo de paleta sequencial com tom único para um gráfico de barras\n","code":""},{"path":"componentes-de-gráficos.html","id":"paletas-sequenciais-de-tons-múltiplos","chapter":"Capítulo 3 Componentes de Gráficos","heading":"3.4.1.2 Paletas sequenciais de tons múltiplos","text":"Em 3.11 apresenta-se paletas sequenciais com tons múltiplos (multi-hue). Neste caso, além da mudança da intensidade, muda-se também cores nos extremos.\nFigure 3.11: Exemplo de cinco paletas de cores sequenciais em tons múltiplos pacote colorspace .\nO uso de paletas sequenciais com tons múltiplos resulta em gráficos mais elegantes que para tons únicos. Veja seguir, Figura 3.12, um exemplo de aplicação de tons múltiplos para o mesmo gráfico de barras anterior.\nFigure 3.12: Exemplo de paleta sequencial com tons múltiplos para um gráfico de barras\nO resultado em 3.12 é elegante para qualquer paleta de cores. Particularmente, paleta “Blues 2” parece mais apropriada por utilizar cor azul, qual é geralmente relacionada com coisas positivas. Assim, mensagem reforçada é de que países com maior razão de poupança são mais positivos.","code":""},{"path":"componentes-de-gráficos.html","id":"paletas-divergentes","chapter":"Capítulo 3 Componentes de Gráficos","heading":"3.4.2 Paletas divergentes","text":"Paletas de cores divergentes realçam diferença entre os extremos e servem para indicar intensidades. Definimos uma cor para o mínimo, outra para o máximo e todas cores intermediárias são escolhidas como um ponto intermediário das cores nos extremos. finalidade das paletas divergentes é destacar diferenças entre os valores extremos dos dados. Veja na Figura 3.13 um exemplo de cinco paletas de cores divergentes pacote colorspace .\nFigure 3.13: Exemplo de cinco paletas de cores divergentes pacote colorspace .\nUm exemplo de uso de paletas divergentes é o gráfico de dispersão dos dados de poder de poupança, Figura 3.14, onde utilizamos média da razão de poupança como cor centro. Assim, diferenças da média definem os extremos utilizados pela paleta escolhida.\nFigure 3.14: Exemplo de uso de paleta divergente em gráfico de dispersão\nPara Figura 3.14, os pontos próximos da média possuem tom cinzento em todos os gráficos. medida que os valores mudam de um extremo para o outro, cores se distinguem de acordo com paleta escolhida. Esta é uma ótima técnica para salientar escalas numéricas. Na mesma figura, note como os pontos abaixo de 4,75% – média de savings ratio – ficam com cores semelhantes, enquanto aqueles acima possuem cores mais fortes e diferenciadas, destacando os países com maiores razões de poupança (savings ratio).","code":""},{"path":"componentes-de-gráficos.html","id":"paletas-qualitativas","chapter":"Capítulo 3 Componentes de Gráficos","heading":"3.4.3 Paletas qualitativas","text":"Paletas de cores qualitativas servem para indicar grupos heterogêneos nos dados. Isto é, queremos distinguir pontos gráfico, porém não indicando intensidade. Um exemplo de cinco paletas qualitativas pacote colorspace são apresentadas na Figura 3.15.\nFigure 3.15: Exemplo de quatro paletas de cores divergentes pacote colorspace .\nVeja que cores em 3.15 não indicam sequência, e sim contraste. Um exemplo de uso de paletas qualitativas é o gráfico de dispersão dos dados de poder de poupança, Figura 3.16, onde utilizamos uma paleta de cores para distinguir os diferentes países.\nFigure 3.16: Exemplo de uso de paletas qualitativas\n","code":""},{"path":"componentes-de-gráficos.html","id":"tamanho","chapter":"Capítulo 3 Componentes de Gráficos","heading":"3.5 Tamanho","text":"O canal tamanho refere-se ao espaço tomado por determinada forma como linha, círculos ou triângulos. O uso é simples, aumentamos ou diminuímos forma para salientar escalas numéricas. Em outras palavras, vinculamos escala geométrica escala numérica dos dados. Veja na Figura 3.17 um exemplo simples de uso tamanho dos pontos.\nFigure 3.17: Exemplo de uso de tamanho para um gráfico de dispersão\nNote gráfico anterior como os círculos são maiores de acordo com o valor de Savings Ratio, eixo vertical, com uma escala numérica disponível na legenda gráfico. Podemos também utilizar o canal de tamanho juntamente com o canal de cor, Figura 3.18.\nFigure 3.18: Exemplo de uso de tamanho para diferenciar pontos\nCuidado, porém, com excessos. O gráfico em 3.18 contém bastante informação ao mesclar o uso canal de cor e tamanho. Como regra, busque construir gráficos simples e intuitivos: não espere que o leitor gaste muita energia mental para entender o gráfico. Caso precisar, construa mais de uma figura para passar sua mensagem.","code":""},{"path":"componentes-de-gráficos.html","id":"exercícios-2","chapter":"Capítulo 3 Componentes de Gráficos","heading":"3.6 Exercícios","text":"solução dos exercícios de final de capítulo pode ser compilada localmente com o comando vdr::exercises_compile_solution(). Alternativamente, podes baixar uma versão arquivo compilado site livro6.","code":""},{"path":"componentes-de-gráficos.html","id":"q.1-1","chapter":"Capítulo 3 Componentes de Gráficos","heading":"Q.1","text":"Em 22/09/2022, o grupo LatinoMetrics publicou uma visualização de dados respeito da impressão de confiança da população brasileira em relação diferens mídias jornalísticas. O conteúdo pode ser acessado Instagram, e é disponilizado abaixo:Postagem LatinoMetrics em 22/09/2022Observando figura, destaque os elementos textuais e gráficos utilizados pelo autor.","code":""},{"path":"componentes-de-gráficos.html","id":"q.2-1","chapter":"Capítulo 3 Componentes de Gráficos","heading":"Q.2","text":"Statspanda é outro grupo especializado em produção de conteúdo relacionado visualização de dados, porém com assuntos muito mais abrangentes que o LatinoMetrics. Em 17/09/2022, o grupo publicou seguinte figura Instagram:Postagem Statspanda em 19/09/2022Neste caso, quais foram os elementos gráficos utilizados pelo autor e como os mesmos se associam mensagem da figura.","code":""},{"path":"componentes-de-gráficos.html","id":"q.3","chapter":"Capítulo 3 Componentes de Gráficos","heading":"Q.3","text":"Reddit/dataisbeautiful é possível encontrar visualização da receita de todos os filmes da franchise Star Wars.Postagem Reddit/dataisbeautifulApesar de ser esteticamante interessante, o mesmo poderia ser melhorado. Com base que aprendeu neste capítulo livro, analise o gráfico e faça recomendações para sua melhoria buscando sempre maior claridade e simplicidade.","code":""},{"path":"intro-ggplot.html","id":"intro-ggplot","chapter":"Capítulo 4 Visualização de Dados com o R","heading":"Capítulo 4 Visualização de Dados com o R","text":"Você chegou ao fim da versão online livro Visualização de Dados com o R. O conteúdo integral da obra pode ser adquirido na loja da Amazon como ebook ou livro impresso. compra livro é uma ótima maneira de suportar este e outros projetos autor.","code":""},{"path":"intro-ggplot.html","id":"sobre-o-r","chapter":"Capítulo 4 Visualização de Dados com o R","heading":"4.1 Sobre o R","text":"Você chegou ao fim da versão online livro Visualização de Dados com o R. O conteúdo integral da obra pode ser adquirido na loja da Amazon como ebook ou livro impresso. compra livro é uma ótima maneira de suportar este e outros projetos autor.","code":""},{"path":"intro-ggplot.html","id":"pacote-ggplot2","chapter":"Capítulo 4 Visualização de Dados com o R","heading":"4.2 Pacote ggplot2","text":"Você chegou ao fim da versão online livro Visualização de Dados com o R. O conteúdo integral da obra pode ser adquirido na loja da Amazon como ebook ou livro impresso. compra livro é uma ótima maneira de suportar este e outros projetos autor.","code":""},{"path":"intro-ggplot.html","id":"alternativas-ao-ggplot2","chapter":"Capítulo 4 Visualização de Dados com o R","heading":"4.2.1 Alternativas ao ggplot2","text":"Você chegou ao fim da versão online livro Visualização de Dados com o R. O conteúdo integral da obra pode ser adquirido na loja da Amazon como ebook ou livro impresso. compra livro é uma ótima maneira de suportar este e outros projetos autor.","code":""},{"path":"intro-ggplot.html","id":"o-ciclo-de-criação-de-figuras","chapter":"Capítulo 4 Visualização de Dados com o R","heading":"4.3 O ciclo de criação de figuras","text":"Você chegou ao fim da versão online livro Visualização de Dados com o R. O conteúdo integral da obra pode ser adquirido na loja da Amazon como ebook ou livro impresso. compra livro é uma ótima maneira de suportar este e outros projetos autor.","code":""},{"path":"intro-ggplot.html","id":"dados-de-entrada","chapter":"Capítulo 4 Visualização de Dados com o R","heading":"4.4 Dados de entrada","text":"Você chegou ao fim da versão online livro Visualização de Dados com o R. O conteúdo integral da obra pode ser adquirido na loja da Amazon como ebook ou livro impresso. compra livro é uma ótima maneira de suportar este e outros projetos autor.","code":""},{"path":"intro-ggplot.html","id":"o-formato-dos-dados","chapter":"Capítulo 4 Visualização de Dados com o R","heading":"4.4.1 O formato dos dados","text":"Você chegou ao fim da versão online livro Visualização de Dados com o R. O conteúdo integral da obra pode ser adquirido na loja da Amazon como ebook ou livro impresso. compra livro é uma ótima maneira de suportar este e outros projetos autor.","code":""},{"path":"intro-ggplot.html","id":"tipos-de-dados","chapter":"Capítulo 4 Visualização de Dados com o R","heading":"4.4.2 Tipos de dados","text":"Você chegou ao fim da versão online livro Visualização de Dados com o R. O conteúdo integral da obra pode ser adquirido na loja da Amazon como ebook ou livro impresso. compra livro é uma ótima maneira de suportar este e outros projetos autor.","code":""},{"path":"intro-ggplot.html","id":"o-sistema-de-camadas-do-ggplot2","chapter":"Capítulo 4 Visualização de Dados com o R","heading":"4.5 O sistema de camadas do ggplot2","text":"Você chegou ao fim da versão online livro Visualização de Dados com o R. O conteúdo integral da obra pode ser adquirido na loja da Amazon como ebook ou livro impresso. compra livro é uma ótima maneira de suportar este e outros projetos autor.","code":""},{"path":"intro-ggplot.html","id":"mapeamento-de-canais-com-aes","chapter":"Capítulo 4 Visualização de Dados com o R","heading":"4.6 Mapeamento de canais com aes()","text":"Você chegou ao fim da versão online livro Visualização de Dados com o R. O conteúdo integral da obra pode ser adquirido na loja da Amazon como ebook ou livro impresso. compra livro é uma ótima maneira de suportar este e outros projetos autor.","code":""},{"path":"intro-ggplot.html","id":"função-geom_line","chapter":"Capítulo 4 Visualização de Dados com o R","heading":"4.6.1 Função geom_line()","text":"Você chegou ao fim da versão online livro Visualização de Dados com o R. O conteúdo integral da obra pode ser adquirido na loja da Amazon como ebook ou livro impresso. compra livro é uma ótima maneira de suportar este e outros projetos autor.","code":""},{"path":"intro-ggplot.html","id":"função-geom_point","chapter":"Capítulo 4 Visualização de Dados com o R","heading":"4.6.2 Função geom_point()","text":"Você chegou ao fim da versão online livro Visualização de Dados com o R. O conteúdo integral da obra pode ser adquirido na loja da Amazon como ebook ou livro impresso. compra livro é uma ótima maneira de suportar este e outros projetos autor.","code":""},{"path":"intro-ggplot.html","id":"função-geom_col","chapter":"Capítulo 4 Visualização de Dados com o R","heading":"4.6.3 Função geom_col()","text":"Você chegou ao fim da versão online livro Visualização de Dados com o R. O conteúdo integral da obra pode ser adquirido na loja da Amazon como ebook ou livro impresso. compra livro é uma ótima maneira de suportar este e outros projetos autor.","code":""},{"path":"intro-ggplot.html","id":"função-geom_text","chapter":"Capítulo 4 Visualização de Dados com o R","heading":"4.6.4 Função geom_text()","text":"Você chegou ao fim da versão online livro Visualização de Dados com o R. O conteúdo integral da obra pode ser adquirido na loja da Amazon como ebook ou livro impresso. compra livro é uma ótima maneira de suportar este e outros projetos autor.","code":""},{"path":"intro-ggplot.html","id":"uma-aplicação-com-dados-reais","chapter":"Capítulo 4 Visualização de Dados com o R","heading":"4.7 Uma aplicação com dados reais","text":"Você chegou ao fim da versão online livro Visualização de Dados com o R. O conteúdo integral da obra pode ser adquirido na loja da Amazon como ebook ou livro impresso. compra livro é uma ótima maneira de suportar este e outros projetos autor.","code":""},{"path":"intro-ggplot.html","id":"ggplot2-paletas","chapter":"Capítulo 4 Visualização de Dados com o R","heading":"4.8 Paletas de cores","text":"Você chegou ao fim da versão online livro Visualização de Dados com o R. O conteúdo integral da obra pode ser adquirido na loja da Amazon como ebook ou livro impresso. compra livro é uma ótima maneira de suportar este e outros projetos autor.","code":""},{"path":"intro-ggplot.html","id":"aplicando-uma-paleta-a-um-gráfico","chapter":"Capítulo 4 Visualização de Dados com o R","heading":"4.8.1 Aplicando uma paleta a um gráfico","text":"Você chegou ao fim da versão online livro Visualização de Dados com o R. O conteúdo integral da obra pode ser adquirido na loja da Amazon como ebook ou livro impresso. compra livro é uma ótima maneira de suportar este e outros projetos autor.","code":""},{"path":"intro-ggplot.html","id":"temas","chapter":"Capítulo 4 Visualização de Dados com o R","heading":"4.9 Temas","text":"Você chegou ao fim da versão online livro Visualização de Dados com o R. O conteúdo integral da obra pode ser adquirido na loja da Amazon como ebook ou livro impresso. compra livro é uma ótima maneira de suportar este e outros projetos autor.","code":""},{"path":"intro-ggplot.html","id":"aplicando-um-tema-a-um-gráfico","chapter":"Capítulo 4 Visualização de Dados com o R","heading":"4.9.1 Aplicando um tema a um gráfico","text":"Você chegou ao fim da versão online livro Visualização de Dados com o R. O conteúdo integral da obra pode ser adquirido na loja da Amazon como ebook ou livro impresso. compra livro é uma ótima maneira de suportar este e outros projetos autor.","code":""},{"path":"intro-ggplot.html","id":"módulos-adicionais-de-temas","chapter":"Capítulo 4 Visualização de Dados com o R","heading":"4.9.2 Módulos adicionais de temas","text":"Você chegou ao fim da versão online livro Visualização de Dados com o R. O conteúdo integral da obra pode ser adquirido na loja da Amazon como ebook ou livro impresso. compra livro é uma ótima maneira de suportar este e outros projetos autor.","code":""},{"path":"intro-ggplot.html","id":"facets","chapter":"Capítulo 4 Visualização de Dados com o R","heading":"4.10 Painéis e facetas","text":"Você chegou ao fim da versão online livro Visualização de Dados com o R. O conteúdo integral da obra pode ser adquirido na loja da Amazon como ebook ou livro impresso. compra livro é uma ótima maneira de suportar este e outros projetos autor.","code":""},{"path":"intro-ggplot.html","id":"exportacao","chapter":"Capítulo 4 Visualização de Dados com o R","heading":"4.11 Exportando figuras","text":"Você chegou ao fim da versão online livro Visualização de Dados com o R. O conteúdo integral da obra pode ser adquirido na loja da Amazon como ebook ou livro impresso. compra livro é uma ótima maneira de suportar este e outros projetos autor.","code":""},{"path":"intro-ggplot.html","id":"exercícios-3","chapter":"Capítulo 4 Visualização de Dados com o R","heading":"4.12 Exercícios","text":"solução dos exercícios de final de capítulo pode ser compilada localmente com o comando vdr::exercises_compile_solution(). Alternativamente, podes baixar uma versão arquivo compilado site livro7.","code":""},{"path":"intro-ggplot.html","id":"q.1-2","chapter":"Capítulo 4 Visualização de Dados com o R","heading":"Q.1","text":"Em um novo script R, crie um vetor de valores aleatórios da distribuição Normal com o comando rnorm(N), onde N é igual 100. Agora, crie um gráfico de pontos onde o eixo y é representado pela série anterior, e o eixo x é simplesmente contagem dos valores (1..100). Para este gráfico, utilize o template básico ggplot2, isto é, não precisas modificar nenhum elemento textual gráfico, por enquanto.","code":""},{"path":"intro-ggplot.html","id":"q.2-2","chapter":"Capítulo 4 Visualização de Dados com o R","heading":"Q.2","text":"Para o gráfico anterior, adicione os seguintes elementos textuais e gráficos:título, subtítulo;caption com data e tempo de compilação gráfico;textos nos eixos x e y;- aplique o tema theme_light","code":""},{"path":"intro-ggplot.html","id":"q.3-1","chapter":"Capítulo 4 Visualização de Dados com o R","heading":"Q.3","text":"Para o mesmo gráfico anterior, adicione uma nova coluna chamada type dataframe, qual pode tomar o valor “” ou “B”. Para isto, podes usar o comando sample(c(\"\", \"B\"), size = N, replace = TRUE). Note que o valor de N foi definido anteriormente.Com base novo dataframe, crie um gráfico de linhas com cores diferentes para cada valor em type.","code":""},{"path":"intro-ggplot.html","id":"q.4","chapter":"Capítulo 4 Visualização de Dados com o R","heading":"Q.4","text":"Para o mesmo gráfico anterior, adicione uma camada de linhas gráfico.","code":""},{"path":"intro-ggplot.html","id":"q.5","chapter":"Capítulo 4 Visualização de Dados com o R","heading":"Q.5","text":"Agora, use o gráfico anterior, mas modifique o formato dos pontos, definindo que o argumento shape será mapeado de acordo com coluna type. Também aumente o tamanho de todos os pontos gráfico para 3.","code":""},{"path":"intro-ggplot.html","id":"q.6","chapter":"Capítulo 4 Visualização de Dados com o R","heading":"Q.6","text":"Agora, modifique o código para que o tamanho dos pontos seja relativo coluna x dataframe de entrada. Isto é, o efeito desejado é que os pontos aumentem de tamanho ao longo eixo horizontal.","code":""},{"path":"intro-ggplot.html","id":"q.7","chapter":"Capítulo 4 Visualização de Dados com o R","heading":"Q.7","text":"Neste exercício, remova camada de pontos utilizada gráfico e adicione o texto disponível na coluna type (ou B) mesmo local onde os pontos se situavam.","code":""},{"path":"intro-ggplot.html","id":"q.8","chapter":"Capítulo 4 Visualização de Dados com o R","heading":"Q.8","text":"Para o gráfico anterior, use funções pacote colorspace para implementar paleta de cores “Harmonic” canal color (dados qualitativos).","code":""},{"path":"intro-ggplot.html","id":"q.9","chapter":"Capítulo 4 Visualização de Dados com o R","heading":"Q.9","text":"Exporte figura anterior com seguintes informações:arquivo de exportação chamado “fig-eoc-vdr.png” e localizado na pasta padrão “Documentos” (atalho com ~);use um tamanho 10 X 10 em centímetrosVerifique se o arquivo foi criado corretamente na pasta desejada.","code":""},{"path":"intro-ggplot.html","id":"q.10","chapter":"Capítulo 4 Visualização de Dados com o R","heading":"Q.10","text":"Com base na função yfR::yf_collection_get, baixe os dados de preços de ações para composição atual índice Ibovespa, com início cinco anos atrás e término como sendo data atual. Com base nos dados importados, siga os seguintes passos:filtre os dados para manter apenas 5 ações com maior rentabilidade acumulado na período, e 5 com menor.construa uma figura com os retornos acumulados das 10 ações selecionadas anteriormente, onde o eixo horizontal representa datas.Implemente seguintes modificações gráfico:\nAdicione título, subtítulo e caption e também o texto dos eixo horizontal e vertical;\nmodifique escala eixo horizontal para percentagens com comando scale_y_continuous(labels = scales::percent);\nuse o tema theme_light;\nAdicione título, subtítulo e caption e também o texto dos eixo horizontal e vertical;modifique escala eixo horizontal para percentagens com comando scale_y_continuous(labels = scales::percent);use o tema theme_light;exporte figura resultante para um arquivo de tamanha tamanho 10 cm (height) X 15 cm (width) chamado “fig-ibov-10-ações.png”, e localizado na pasta padrão “Documentos” (atalho com ~);","code":""},{"path":"gráficos-estatísticos.html","id":"gráficos-estatísticos","chapter":"Capítulo 5 Gráficos Estatísticos","heading":"Capítulo 5 Gráficos Estatísticos","text":"Você chegou ao fim da versão online livro Visualização de Dados com o R. O conteúdo integral da obra pode ser adquirido na loja da Amazon como ebook ou livro impresso. compra livro é uma ótima maneira de suportar este e outros projetos autor.","code":""},{"path":"gráficos-estatísticos.html","id":"visualizando-uma-distribuição","chapter":"Capítulo 5 Gráficos Estatísticos","heading":"5.1 Visualizando uma distribuição","text":"Você chegou ao fim da versão online livro Visualização de Dados com o R. O conteúdo integral da obra pode ser adquirido na loja da Amazon como ebook ou livro impresso. compra livro é uma ótima maneira de suportar este e outros projetos autor.","code":""},{"path":"gráficos-estatísticos.html","id":"histogramas","chapter":"Capítulo 5 Gráficos Estatísticos","heading":"5.1.1 Histogramas","text":"Você chegou ao fim da versão online livro Visualização de Dados com o R. O conteúdo integral da obra pode ser adquirido na loja da Amazon como ebook ou livro impresso. compra livro é uma ótima maneira de suportar este e outros projetos autor.","code":""},{"path":"gráficos-estatísticos.html","id":"densidades","chapter":"Capítulo 5 Gráficos Estatísticos","heading":"5.1.2 Densidades","text":"Você chegou ao fim da versão online livro Visualização de Dados com o R. O conteúdo integral da obra pode ser adquirido na loja da Amazon como ebook ou livro impresso. compra livro é uma ótima maneira de suportar este e outros projetos autor.","code":""},{"path":"gráficos-estatísticos.html","id":"quartis","chapter":"Capítulo 5 Gráficos Estatísticos","heading":"5.1.3 Quartis","text":"Você chegou ao fim da versão online livro Visualização de Dados com o R. O conteúdo integral da obra pode ser adquirido na loja da Amazon como ebook ou livro impresso. compra livro é uma ótima maneira de suportar este e outros projetos autor.","code":""},{"path":"gráficos-estatísticos.html","id":"visualizando-múltiplas-distribuições","chapter":"Capítulo 5 Gráficos Estatísticos","heading":"5.2 Visualizando múltiplas distribuições","text":"Você chegou ao fim da versão online livro Visualização de Dados com o R. O conteúdo integral da obra pode ser adquirido na loja da Amazon como ebook ou livro impresso. compra livro é uma ótima maneira de suportar este e outros projetos autor.","code":""},{"path":"gráficos-estatísticos.html","id":"boxplots","chapter":"Capítulo 5 Gráficos Estatísticos","heading":"5.2.1 Boxplots","text":"Você chegou ao fim da versão online livro Visualização de Dados com o R. O conteúdo integral da obra pode ser adquirido na loja da Amazon como ebook ou livro impresso. compra livro é uma ótima maneira de suportar este e outros projetos autor.","code":""},{"path":"gráficos-estatísticos.html","id":"uso-de-painéisfacetas","chapter":"Capítulo 5 Gráficos Estatísticos","heading":"5.2.2 Uso de painéis/facetas","text":"Você chegou ao fim da versão online livro Visualização de Dados com o R. O conteúdo integral da obra pode ser adquirido na loja da Amazon como ebook ou livro impresso. compra livro é uma ótima maneira de suportar este e outros projetos autor.","code":""},{"path":"gráficos-estatísticos.html","id":"pacote-ggridges","chapter":"Capítulo 5 Gráficos Estatísticos","heading":"5.2.3 Pacote ggridges","text":"Você chegou ao fim da versão online livro Visualização de Dados com o R. O conteúdo integral da obra pode ser adquirido na loja da Amazon como ebook ou livro impresso. compra livro é uma ótima maneira de suportar este e outros projetos autor.","code":""},{"path":"gráficos-estatísticos.html","id":"visualizando-correlações","chapter":"Capítulo 5 Gráficos Estatísticos","heading":"5.3 Visualizando correlações","text":"Você chegou ao fim da versão online livro Visualização de Dados com o R. O conteúdo integral da obra pode ser adquirido na loja da Amazon como ebook ou livro impresso. compra livro é uma ótima maneira de suportar este e outros projetos autor.","code":""},{"path":"gráficos-estatísticos.html","id":"pacote-corrplot","chapter":"Capítulo 5 Gráficos Estatísticos","heading":"5.3.1 Pacote corrplot","text":"Você chegou ao fim da versão online livro Visualização de Dados com o R. O conteúdo integral da obra pode ser adquirido na loja da Amazon como ebook ou livro impresso. compra livro é uma ótima maneira de suportar este e outros projetos autor.","code":""},{"path":"gráficos-estatísticos.html","id":"visualizando-incerteza","chapter":"Capítulo 5 Gráficos Estatísticos","heading":"5.4 Visualizando incerteza","text":"Você chegou ao fim da versão online livro Visualização de Dados com o R. O conteúdo integral da obra pode ser adquirido na loja da Amazon como ebook ou livro impresso. compra livro é uma ótima maneira de suportar este e outros projetos autor.","code":""},{"path":"gráficos-estatísticos.html","id":"exercícios-4","chapter":"Capítulo 5 Gráficos Estatísticos","heading":"5.5 Exercícios","text":"solução dos exercícios de final de capítulo pode ser compilada localmente com o comando vdr::exercises_compile_solution(). Alternativamente, podes baixar uma versão arquivo compilado site livro8.","code":""},{"path":"gráficos-estatísticos.html","id":"q.1-3","chapter":"Capítulo 5 Gráficos Estatísticos","heading":"Q.1","text":"Utilizando o pacote yfR, baixe os dados dos preços da Grendene, ticker = GRND3.SA, desde 2015 até o data atual. Com base nos dados importados, crie um histograma dos retornos diários dos preços ajustados da ação (coluna ret_adjusted_prices).","code":""},{"path":"gráficos-estatísticos.html","id":"q.2-3","chapter":"Capítulo 5 Gráficos Estatísticos","heading":"Q.2","text":"Utilizando o pacote yfR e argumento freq_data = 'monthly' em yf_get, baixe os dados dos preços mensais da Petrobras, ticker = PETR3.SA, de 2015 até o dia atual. Com base nos dados importados, crie um histograma dos retornos mensais da ação, adicionando os seguintes itens ao gráfico:título e subtítulo;texto eixo x e y;caption;tema theme_light","code":""},{"path":"gráficos-estatísticos.html","id":"q.3-2","chapter":"Capítulo 5 Gráficos Estatísticos","heading":"Q.3","text":"Pacote microdatasus, criado por Raphael Saldanha (rfsaldanha), importa e limpa dados Sistema de Saúde Único (SUS). pacote livro é possível encontrar dados de mortalidade importados pelo microdatasus e filtrados para manter apenas algumas colunas da base completa. O arquivo é chamado Exercises-sus-mortality-data.csv e pode ser importado com função vdr::data_import.Com base nos dados da coluna age, crie um gráfico de densidade para distribuição de idades de falecimento, incluindo os seguintes itens gráfico:título;texto eixo x e y;caption;- tema theme_light","code":""},{"path":"gráficos-estatísticos.html","id":"q.4-1","chapter":"Capítulo 5 Gráficos Estatísticos","heading":"Q.4","text":"Para os mesmos dados de mortalidade retirados SUS, crie um gráfico QQ com distribuição de idades de falecimento (coluna age).","code":""},{"path":"gráficos-estatísticos.html","id":"q.5-1","chapter":"Capítulo 5 Gráficos Estatísticos","heading":"Q.5","text":"Considerando novamente os dados de mortalidade SUS, crie um gráfico de densidade de distribuição, porém separe linhas gráfico de acordo com o gênero (Masculino/Feminino). Isto é, queremos uma linha de densidade para o sexo masculino, e outra para o feminino. Dica: remova os casos de SEXO = NA (Available) antes de criar o gráfico.","code":""},{"path":"gráficos-estatísticos.html","id":"q.6-1","chapter":"Capítulo 5 Gráficos Estatísticos","heading":"Q.6","text":"Repita o exercício anterior, porém use facetas para mostrar diferentes densidades de mortalidade entre os gêneros masculino e feminino. Dentro da função facet_wrap, use argumento nrow = 2 para empilhar os painéis verticalmente.","code":""},{"path":"gráficos-estatísticos.html","id":"q.7-1","chapter":"Capítulo 5 Gráficos Estatísticos","heading":"Q.7","text":"Considerando novamente os dados SUS, use o comando facet_grid para mostrar densidades de idade de falecimento quando separando os dados por gênero (coluna SEXO) e escolaridade (coluna ESC). DICA: remova os casos de NA (Available) encontrados em ambas colunas, SEXO e ESC.","code":""},{"path":"gráficos-estatísticos.html","id":"q.8-1","chapter":"Capítulo 5 Gráficos Estatísticos","heading":"Q.8","text":"Crie um gráfico de diagrama (boxplot), onde o eixo horizontal é escolaridade (coluna ESC) e o eixo vertical representa distribuição dos dados de idade de falecimento, coluna (age).","code":""},{"path":"mapas.html","id":"mapas","chapter":"Capítulo 6 Mapas","heading":"Capítulo 6 Mapas","text":"Você chegou ao fim da versão online livro Visualização de Dados com o R. O conteúdo integral da obra pode ser adquirido na loja da Amazon como ebook ou livro impresso. compra livro é uma ótima maneira de suportar este e outros projetos autor.","code":""},{"path":"mapas.html","id":"pacote-geobr","chapter":"Capítulo 6 Mapas","heading":"6.1 Pacote geobr","text":"Você chegou ao fim da versão online livro Visualização de Dados com o R. O conteúdo integral da obra pode ser adquirido na loja da Amazon como ebook ou livro impresso. compra livro é uma ótima maneira de suportar este e outros projetos autor.","code":""},{"path":"mapas.html","id":"mapa-do-brasil","chapter":"Capítulo 6 Mapas","heading":"6.1.1 Mapa do Brasil","text":"Você chegou ao fim da versão online livro Visualização de Dados com o R. O conteúdo integral da obra pode ser adquirido na loja da Amazon como ebook ou livro impresso. compra livro é uma ótima maneira de suportar este e outros projetos autor.","code":""},{"path":"mapas.html","id":"mapa-do-brasil-com-cidades-e-capitais","chapter":"Capítulo 6 Mapas","heading":"6.1.2 Mapa do Brasil com cidades e capitais","text":"Você chegou ao fim da versão online livro Visualização de Dados com o R. O conteúdo integral da obra pode ser adquirido na loja da Amazon como ebook ou livro impresso. compra livro é uma ótima maneira de suportar este e outros projetos autor.","code":""},{"path":"mapas.html","id":"pacote-ggmap","chapter":"Capítulo 6 Mapas","heading":"6.2 Pacote ggmap","text":"Você chegou ao fim da versão online livro Visualização de Dados com o R. O conteúdo integral da obra pode ser adquirido na loja da Amazon como ebook ou livro impresso. compra livro é uma ótima maneira de suportar este e outros projetos autor.","code":""},{"path":"mapas.html","id":"registrando-um-projeto","chapter":"Capítulo 6 Mapas","heading":"6.2.1 Registrando um projeto","text":"Você chegou ao fim da versão online livro Visualização de Dados com o R. O conteúdo integral da obra pode ser adquirido na loja da Amazon como ebook ou livro impresso. compra livro é uma ótima maneira de suportar este e outros projetos autor.","code":""},{"path":"mapas.html","id":"utilizando-ggmap","chapter":"Capítulo 6 Mapas","heading":"6.2.2 Utilizando ggmap","text":"Você chegou ao fim da versão online livro Visualização de Dados com o R. O conteúdo integral da obra pode ser adquirido na loja da Amazon como ebook ou livro impresso. compra livro é uma ótima maneira de suportar este e outros projetos autor.","code":""},{"path":"mapas.html","id":"codificação-geográfica","chapter":"Capítulo 6 Mapas","heading":"6.2.3 Codificação geográfica","text":"Você chegou ao fim da versão online livro Visualização de Dados com o R. O conteúdo integral da obra pode ser adquirido na loja da Amazon como ebook ou livro impresso. compra livro é uma ótima maneira de suportar este e outros projetos autor.","code":""},{"path":"mapas.html","id":"exercícios-5","chapter":"Capítulo 6 Mapas","heading":"6.3 Exercícios","text":"solução dos exercícios de final de capítulo pode ser compilada localmente com o comando vdr::exercises_compile_solution(). Alternativamente, podes baixar uma versão arquivo compilado site livro9.","code":""},{"path":"mapas.html","id":"q.1-4","chapter":"Capítulo 6 Mapas","heading":"Q.1","text":"Utilizando função geobr::read_country, baixe os dados território Brasil e mostre área em um novo gráfico.","code":""},{"path":"mapas.html","id":"q.2-4","chapter":"Capítulo 6 Mapas","heading":"Q.2","text":"Utilizando função geobr::read_indigenous_land, baixe os dados território indígena Brasil e adicione esta camada ao gráfico Brasil criado anteriormente, com fronteiras da área indígena representadas na cor vermelha.","code":""},{"path":"mapas.html","id":"q.3-3","chapter":"Capítulo 6 Mapas","heading":"Q.3","text":"Utilizando função geobr::read_state(), baixe os dados de todos os estados Brasil e, em um mapa país, mostre os limites de cada estado na cor azul.","code":""},{"path":"mapas.html","id":"q.4-2","chapter":"Capítulo 6 Mapas","heading":"Q.4","text":"Utilizando função geobr::read_state(), baixe os dados estado Rio Grande Sul e, com os dados disponíveis arquivo “Chapter07-latlong-cities-brazil.csv” pacote vdr:mostre cidades gaúchas como pontos azuis mapa, ajustando o tamanho e transparência dos pontos para melhor visualização mapa;mostre capital, Porto alegre, como um ponto vermelho com tamanho e intensidade maior.adicione o texto “PORTO ALEGRE” em preto, acima ponto de localização da capital.adicione título e caption para o gráfico","code":""},{"path":"programando-com-o-ggplot2.html","id":"programando-com-o-ggplot2","chapter":"Capítulo 7 Programando com o ggplot2","heading":"Capítulo 7 Programando com o ggplot2","text":"Você chegou ao fim da versão online livro Visualização de Dados com o R. O conteúdo integral da obra pode ser adquirido na loja da Amazon como ebook ou livro impresso. compra livro é uma ótima maneira de suportar este e outros projetos autor.","code":""},{"path":"programando-com-o-ggplot2.html","id":"criando-figuras-via-funções","chapter":"Capítulo 7 Programando com o ggplot2","heading":"7.1 Criando figuras via funções","text":"Você chegou ao fim da versão online livro Visualização de Dados com o R. O conteúdo integral da obra pode ser adquirido na loja da Amazon como ebook ou livro impresso. compra livro é uma ótima maneira de suportar este e outros projetos autor.","code":""},{"path":"programando-com-o-ggplot2.html","id":"testando-temas","chapter":"Capítulo 7 Programando com o ggplot2","heading":"7.2 Testando temas","text":"Você chegou ao fim da versão online livro Visualização de Dados com o R. O conteúdo integral da obra pode ser adquirido na loja da Amazon como ebook ou livro impresso. compra livro é uma ótima maneira de suportar este e outros projetos autor.","code":""},{"path":"programando-com-o-ggplot2.html","id":"testando-paletas","chapter":"Capítulo 7 Programando com o ggplot2","heading":"7.3 Testando paletas","text":"Você chegou ao fim da versão online livro Visualização de Dados com o R. O conteúdo integral da obra pode ser adquirido na loja da Amazon como ebook ou livro impresso. compra livro é uma ótima maneira de suportar este e outros projetos autor.","code":""},{"path":"programando-com-o-ggplot2.html","id":"testando-temas-e-paletas","chapter":"Capítulo 7 Programando com o ggplot2","heading":"7.4 Testando temas e paletas","text":"Você chegou ao fim da versão online livro Visualização de Dados com o R. O conteúdo integral da obra pode ser adquirido na loja da Amazon como ebook ou livro impresso. compra livro é uma ótima maneira de suportar este e outros projetos autor.","code":""},{"path":"programando-com-o-ggplot2.html","id":"exercícios-6","chapter":"Capítulo 7 Programando com o ggplot2","heading":"7.5 Exercícios","text":"solução dos exercícios de final de capítulo pode ser compilada localmente com o comando vdr::exercises_compile_solution(). Alternativamente, podes baixar uma versão arquivo compilado site livro10.","code":""},{"path":"programando-com-o-ggplot2.html","id":"q.1-5","chapter":"Capítulo 7 Programando com o ggplot2","heading":"Q.1","text":"O código abaixo irá criar um gráfico simples com os preços da ação da empresa Engie (EGIE.SA).Após execução código acima, use ferramentas de programação R para testar os seguintes temas da figura:ggplot2::theme_light()ggplot2::theme_light()ggplot2::theme_bw()ggplot2::theme_bw()ggplot2::theme_grey()ggplot2::theme_grey()ggplot2::theme_minimal()\ne lembre de adicionar informação tema título da figura.ggplot2::theme_minimal()\ne lembre de adicionar informação tema título da figura.","code":"library(ggplot2)\n\ndf_yf <- yfR::yf_get(\"EGIE3.SA\", \n              first_date = \"2018-01-01\")\n\np <- ggplot(\n  df_yf,\n  aes(x = ref_date, y = price_adjusted)\n) + geom_line()"},{"path":"programando-com-o-ggplot2.html","id":"q.2-5","chapter":"Capítulo 7 Programando com o ggplot2","heading":"Q.2","text":"Considere o gráfico template gerado pelo código seguir:Pacote hrbrthemes oferece uma grande variedade de temas adicionais serem utilizados em um gráfico ggplot2. Todas funções de tema possum um padrão bem distinto, onde o nome da função inicia com o texto theme_. Baseado nesta informação e também uso da função ls, podemos descobrir o nome de todas funções de tema hrbrthemes com o código abaixo:Com base código anterior:use ferramentas de programação R para, de forma automática, aplicar todos os temas anteriores para o gráfico gerado acima.agrege todos os gráfico em um único arquivo com função cowplot::plot_gridsalve figura resultante como hrbrthemes-demo.png, pasta documentos (atalho com ~). Defina o tamanho da figura como height = 20cm e width = 30cm. DICA: Caso figura gravada sair com fundo transparente, abra-em um navegador da web, tal como o Chrome ou firefox.","code":"library(ggplot2)\n\np <- ggplot(\n  yfR::yf_get(\"USIM5.SA\", first_date = \"2018-01-01\"),\n  aes(x = ref_date, y = price_adjusted)\n) + \n  geom_line() +\n  labs(subtitle = \"SUBTITLE\",\n       caption = \"CAPTION\")library(hrbrthemes)\n\nall_fcts <- ls(\"package:hrbrthemes\")\n\nidx <- all_fcts |> \n  stringr::str_which(\"theme_\")\n\ntheme_fcts <- all_fcts[idx]"},{"path":"programando-com-o-ggplot2.html","id":"q.3-4","chapter":"Capítulo 7 Programando com o ggplot2","heading":"Q.3","text":"Considere o gráfico criado de barras criado com o código abaixo:Com base código anterior, use ferramentas de programação R para, de forma automática, aplicar todas possíveis combinações entre os temas:ggplot2::theme_lighthrbrthemes::theme_modern_rcggtech::theme_airbnb_fancy()e paletas colorspaceRed-GreenGreen-BrownTropicAdicionalmente:agrege todos os gráfico em um único arquivo com função cowplot::plot_gridsalve figura resultante como themes--palettes-demo.png, pasta documentos (atalho com ~). Defina o tamanho da figura como height = 30cm e width = 60cm. DICA: Caso figura gravada sair com fundo transparente, abra-em um navegador da web, tal como o Chrome ou firefox.","code":"library(ggplot2)\n\ntickers <- c(\"PETR3.SA\", \"ITSA3.SA\",\n             \"GRND3.SA\", \"GGBR3.SA\",\n             \"EGIE3.SA\", \"USIM5.SA\")\n\ndf_yf <- yfR::yf_get(tickers, \n                     \"2020-01-01\") \n\ndf_tab <- df_yf |>\n  dplyr::group_by(ticker) |>\n  dplyr::summarise(\n    total_ret = dplyr::last(cumret_adjusted_prices) - 1\n    ) |>\n  dplyr::arrange(total_ret)\n\np <- ggplot(df_tab, aes(x = reorder(ticker, total_ret),\n                          y = total_ret,\n                          fill = total_ret)) +\n  geom_col(color = \"white\") + \n  theme_minimal() +\n  coord_flip() + \n  labs(title = stringr::str_glue(\n    \"Performance de {length(tickers)} Ações Selecionadas\"\n    ),\n       y = \"Retorno Total\",\n       x = \"Ticker\")"},{"path":"conclusão.html","id":"conclusão","chapter":"Capítulo 8 Conclusão","heading":"Capítulo 8 Conclusão","text":"E assim chegamos ao fim livro! Espero que tenha gostado conteúdo e aprendido alguns novos truques na manipulação e visualização de dados com o R. Truques este que, possivelmente, lhe rendam uma maior reputação trabalho ou então na conquista de seu título acadêmico.Aprender utilizar o R na criação de gráficos é uma jornada sem fim. Apesar de minha maior experiência com plataforma – uso o R tanto para produzir conteúdo de aula quanto para realizar pesquisas científicas –, ainda surpreendo por estar em constante evolução. Portanto, não pare com este livro. Aqui tentei fornecer uma introdução ao tema de visualização de dados com o R. O universo ggplot2 é imenso e valioso de se explorar.Boa jornada e bons estudos!Marcelo S. Perlin, 23/11/2022.","code":""},{"path":"referências.html","id":"referências","chapter":"Referências","heading":"Referências","text":"","code":""}]
